(self.webpackChunkvue_el_demo=self.webpackChunkvue_el_demo||[]).push([["623"],{79177:function(module){if("object"==typeof translate&&"string"==typeof translate.version)throw Error("translate.js 已经加载过一次了，当前是重复加载，避免你的翻译出现异常，已帮你拦截此次加载。本信息只是给你一个提示，你可以检查一下你的项目中是否出现了重复引入 translate.js ，当然，这个异常并不会影响到你的具体使用，它已经自动帮你处理拦截了这个异常，只不过提示出来是让你知道，你的代码里出现了重复引入的情况。");var translate={version:"3.17.0.20250703",useVersion:"v2",setUseVersion2:function(){translate.useVersion="v2",console.log("提示：自 v2.10 之后的版本默认就是使用V2版本（当前版本为:"+translate.version+"）， translate.setUseVersion2() 可以不用再加这一行了。当然加了也无所谓，只是加了跟不加是完全一样的。")},translate:null,includedLanguages:"zh-CN,zh-TW,en",resourcesUrl:"//res.zvo.cn/translate",selectLanguageTag:{documentId:"translate",show:!0,languages:"",alreadyRender:!1,selectOnChange:function(e){var t=e.target.value;translate.changeLanguage(t)},refreshRender:function(){let e=document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage");e&&e.parentNode.removeChild(e),translate.selectLanguageTag.alreadyRender=!1,translate.selectLanguageTag.render()},customUI:function(e){var t=function(e){translate.selectLanguageTag.selectOnChange(e)},n=document.createElement("select");n.id=translate.selectLanguageTag.documentId+"SelectLanguage",n.className=translate.selectLanguageTag.documentId+"SelectLanguage";for(var a=translate.language.getCurrent(),r=0;r<e.length;r++){var o=document.createElement("option");o.setAttribute("value",e[r].id),translate.selectLanguageTag.languages.length>0&&0>(","+translate.selectLanguageTag.languages+",").toLowerCase().indexOf(","+e[r].id.toLowerCase()+",")||(null!=a&&void 0!==a&&a.length>0?a==e[r].id&&o.setAttribute("selected","selected"):e[r].id==translate.language.getLocal()&&o.setAttribute("selected","selected"),o.appendChild(document.createTextNode(e[r].name)),n.appendChild(o))}window.addEventListener?n.addEventListener("change",t,!1):n.attachEvent("onchange",t),document.getElementById(translate.selectLanguageTag.documentId).appendChild(n)},render:function(){if(!translate.selectLanguageTag.alreadyRender&&(translate.selectLanguageTag.alreadyRender=!0,translate.selectLanguageTag.show)){if(null==document.getElementById(translate.selectLanguageTag.documentId)){var e=document.getElementsByTagName("body");if(0==e.length)return void console.log("body tag not find, translate.selectLanguageTag.render() is not show Select Language");var t=e[0],n=document.createElement("div");n.id=translate.selectLanguageTag.documentId,t.appendChild(n)}else if(null!=document.getElementById(translate.selectLanguageTag.documentId+"SelectLanguage"))return;"string"==typeof translate.request.api.language&&translate.request.api.language.length>0&&translate.request.post(translate.request.api.language,{},function(e){if(0==e.result)return void console.log("load language list error : "+e.info);translate.selectLanguageTag.customUI(e.list)},null)}}},localLanguage:"zh-CN",googleTranslateElementInit:function(){var e="";null!=document.getElementById("translate")&&(e="translate"),translate.translate=new google.translate.TranslateElement({pageLanguage:"zh-CN",includedLanguages:translate.selectLanguageTag.languages,layout:0},e)},execute_v1:function(){console.log("=====ERROR======"),console.log("The v1 version has been discontinued since 2022. Please use the latest V3 version and refer to: http://translate.zvo.cn/41162.html")},setCookie:function(e,t){var n=e+"="+escape(t);document.cookie=n},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]==e)return unescape(a[1])}return""},currentLanguage:function(){var e=translate.getCookie("googtrans");return e.length>0?e.substr(e.lastIndexOf("/")+1,e.length-1):translate.localLanguage},changeLanguage:function(e){if(",en,de,hi,lt,hr,lv,ht,hu,zh-CN,hy,uk,mg,id,ur,mk,ml,mn,af,mr,uz,ms,el,mt,is,it,my,es,et,eu,ar,pt-PT,ja,ne,az,fa,ro,nl,en-GB,no,be,fi,ru,bg,fr,bs,sd,se,si,sk,sl,ga,sn,so,gd,ca,sq,sr,kk,st,km,kn,sv,ko,sw,gl,zh-TW,pt-BR,co,ta,gu,ky,cs,pa,te,tg,th,la,cy,pl,da,tr,".indexOf(","+e+",")>-1){console.log("您使用的是v1版本的切换语种方式，v1已在2021年就以废弃，请更换为v2，参考文档： http://translate.zvo.cn/41549.html"),translate.check();var t="/"+translate.localLanguage+"/"+e,n=document.location.host.split(".");if(n.length>2){var a=n[n.length-2]+"."+n[n.length-1];document.cookie="googtrans=;expires="+new Date(1)+";domain="+a+";path=/",document.cookie="googtrans="+t+";domain="+a+";path=/"}translate.setCookie("googtrans",""+t),translate.refreshCurrentPage();return}if(translate.useVersion="v2",null!=translate.to&&translate.to.length>0&&translate.to!=translate.language.getLocal())var r=!0;translate.to=e,translate.storage.set("to",e);try{window.self!==window.top&&"object"==typeof window.parent.translate&&"string"==typeof window.parent.translate.version&&window.parent.translate.changeLanguage(e)}catch(e){console.log(e)}if(r)location.reload();else{translate.execute();let t=document.querySelectorAll("iframe");for(let n=0;n<t.length;n++){let a=t[n].contentWindow;try{"object"==typeof a.translate&&"string"==typeof a.translate.version&&a.translate.to!=e&&(a.translate.to=e,a.translate.storage.set("to",e),a.translate.execute())}catch(e){console.log(e)}}}!0==translate.listener.use&&!1==translate.listener.isStart&&translate.listener.start()},check:function(){"file:"==window.location.protocol&&console.log("\r\n---WARNING----\r\ntranslate.js 主动翻译组件自检异常，当前协议是file协议，翻译组件要在正常的线上http、https协议下才能正常使用翻译功能\r\n------------")},to:"",autoDiscriminateLocalLanguage:!1,documents:[],inProgressNodes:[],ignore:{tag:["style","script","link","pre","code"],class:["ignore","translateSelectLanguage"],id:[],isIgnore:function(e){if(null==e||void 0===e)return!1;for(var t=e,n=100;n-- >0&&null!=t&&void 0!==t;){var a=translate.element.getNodeName(t).toLowerCase();if(a.length>0){if("body"==a||"html"==a||"#document"==a)return!1;if(translate.ignore.tag.indexOf(a)>-1)return!0}if(null!=t.className){var r=t.className;if(null==r||"string"!=typeof r)continue;r=r.trim().split(" ");for(var o=0;o<r.length;o++)if(null!=r[o]&&r[o].trim().length>0&&translate.ignore.class.indexOf(r[o])>-1)return!0}if(null!=t.id&&void 0!==t.id&&translate.ignore.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1},text:[],textRegex:[],setTextRegexs:function(e){if(!Array.isArray(e))throw Error("参数必须为数组");for(let t=0;t<e.length;t++)if(!(e[t]instanceof RegExp))throw Error("第"+t+"项不是RegExp对象");this.textRegex=[...this.textRegex,...e]}},refreshCurrentPage:function(){location.reload()},nomenclature:{data:[],old_Data:[],set:function(e){alert("请将 translate.nomenclature.set 更换为 append，具体使用可参考： https://github.com/xnx3/translate ")},append:function(e,t,n){void 0===translate.nomenclature.data[e]&&(translate.nomenclature.data[e]=[]),void 0===translate.nomenclature.data[e][t]&&(translate.nomenclature.data[e][t]=[]);for(var a=n.split("\n"),r=0;r<a.length;r++){var o=a[r].trim();if(!(o.length<1)){var i=o.split("=");if(2==i.length){var s=i[0].trim(),l=i[1].trim();0!=s.length&&0!=l.length&&(translate.nomenclature.data[e][t][s]=l)}}}translate.nomenclature.data[e][t]=translate.util.objSort(translate.nomenclature.data[e][t])},get:function(){return translate.nomenclature.data},dispose:function(e){if(null==e||0==e.length||void 0===translate.nomenclature.data[translate.language.getLocal()]||void 0===translate.nomenclature.data[translate.language.getLocal()][translate.to])return e;for(var t in translate.nomenclature.data[translate.language.getLocal()][translate.to])if(translate.nomenclature.data[translate.language.getLocal()][translate.to].hasOwnProperty(t)){var n=translate.nomenclature.data[translate.language.getLocal()][translate.to][t];if("function"!=typeof n){var a=e.indexOf(t);if(a>-1)if("english"==translate.language.getLocal()){var r="";if(0==a);else{r=e.substr(a-1,1);var o=translate.language.getCharLanguage(r);if("english"==o||"romance"==o)continue}var i="";if(a+t.length==e.length);else{i=e.substr(a+t.length,1);var o=translate.language.getCharLanguage(i);if("english"==o||"romance"==o)continue}e=e.replace(RegExp(r+t+i,"g"),r+n+i)}else e=e.replace(RegExp(t,"g"),n)}}return e}},office:{export:function(){if(translate.language.getLocal()==translate.language.getCurrent())return void alert("本地语种跟要翻译的语种一致，无需导出");var e="";for(var t in translate.nodeQueue)if(translate.nodeQueue.hasOwnProperty(t)){var n=translate.nodeQueue[t];for(var a in translate.nodeQueue[t].list)if(translate.nodeQueue[t].list.hasOwnProperty(a)&&"string"==typeof a&&!(a.length<1))for(var r in translate.nodeQueue[t].list[a])translate.nodeQueue[t].list[a].hasOwnProperty(r)&&(e=e+"\n"+translate.nodeQueue[t].list[a][r].original+"="+translate.storage.get("hash_"+translate.language.getCurrent()+"_"+r))}e.length>0?(e="translate.office.append('"+translate.language.getCurrent()+"',`"+e+"\n`);",translate.util.loadMsgJs(),msg.popups({text:'<textarea id="msgPopupsTextarea" style="width:100%; height:100%; color: black; padding: 8px;">loaing...</textarea>',width:"750px",height:"600px",padding:"1px"}),document.getElementById("msgPopupsTextarea").value=e):msg.alert("无有效内容！")},showPanel:function(){let e=document.createElement("div");e.setAttribute("id","translate_export"),e.setAttribute("class","ignore");let t=document.createElement("button");t.onclick=function(){translate.office.export()},t.innerHTML="导出配置信息",t.setAttribute("style","margin-left: 72px; margin-top: 30px; margin-bottom: 20px; font-size: 25px; background-color: blue; padding: 15px; padding-top: 3px; padding-bottom: 3px; border-radius: 3px;"),e.appendChild(t);let n=document.createElement("div");n.innerHTML='1. 首先将当前语种切换为你要翻译的语种<br/>2. 点击导出按钮，将翻译的配置信息导出<br/>3. 将导出的配置信息粘贴到代码中，即可完成<br/><a href="asd" target="_black" style="color: aliceblue;">点此进行查阅详细使用说明</a>',n.setAttribute("style","font-size: 14px; padding: 12px;"),e.appendChild(n),e.setAttribute("style","background-color: black; color: #fff; width: 320px; height: 206px; position: fixed; bottom: 50px; right: 50px;"),document.body.appendChild(e),translate.util.loadMsgJs()},append:function(e,t){for(var n=t.split("\n"),a=0;a<n.length;a++){var r=n[a].trim();if(!(r.length<1)){var o=r.split("=");if(2==o.length){var i=o[0],s=o[1];0!=i.length&&0!=s.length&&translate.storage.set("hash_"+e+"_"+translate.util.hash(i),s)}}}},fullExtract:{set:async function(e,t,n,a){if(void 0===translate.storage.IndexedDB)return void console.log("ERROR: translate.storage.IndexedDB not find");var r=await translate.storage.IndexedDB.get("hash_"+e);void 0===r&&null==r&&(r={originalText:t}),r[n]=a,await translate.storage.IndexedDB.set("hash_"+e,r)},export:async function(e){if(void 0===translate.storage.IndexedDB)return void console.log("ERROR: translate.storage.IndexedDB not find");if("string"!=typeof e)return void console.log('error : to param not find, example: "english"');var t="translate.office.append('",n=await translate.storage.IndexedDB.list("hash_*");for(var a in n)if(n.hasOwnProperty(a)){var r=n[a].value.originalText.replace(/\n/g,"\\n").replace(/\t/g,"\\t");t=t+"\n"+r+"="+n[a].value.english.replace(/\n/g,"\\n").replace(/\t/g,"\\t")}let o=new Blob([t+="\n`);"],{type:"text/plain"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e+".txt",s.click(),URL.revokeObjectURL(i)},isUse:!1}},setAutoDiscriminateLocalLanguage:function(){translate.autoDiscriminateLocalLanguage=!0},nodeQueue:{},setDocuments:function(e){null!=e&&void 0!==e&&(void 0===e.length?translate.documents[0]=e:translate.documents=e,translate.nodeQueue={})},getDocuments:function(){if(null!=translate.documents&&void 0!==translate.documents&&translate.documents.length>0)return translate.documents;var e=[];return e[0]=document.documentElement,e},listener:{isStart:!1,use:!1,start:function(){translate.listener.use=!0,translate.temp_linstenerStartInterval=setInterval(function(){if("complete"==document.readyState){if((clearInterval(translate.temp_linstenerStartInterval),translate.language.getCurrent()!=translate.language.getLocal())||translate.language.translateLocal)translate.listener.addListener()}},300)},ignoreNode:[],translateExecuteNodeIgnoreExpireTime:1e3,addIgnore:function(e,t,n){let a="";a="string"==typeof e?e:nodeuuid.uuid(e),translate.listener.ignoreNode[a]={addtime:Date.now()+t,text:n}},refreshIgnoreNode:function(){var e=Date.now();for(let t in translate.listener.ignoreNode)translate.listener.ignoreNode[t].addtime<e&&delete translate.listener.ignoreNode[t]},addListener:function(){if(!0==translate.listener.isStart)return void console.log("translate.listener.start() 已经启动了，无需再重复启动监听，增加浏览器负担");translate.listener.isStart=!0,translate.listener.config={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},translate.listener.callback=function(e,t){var n=[];for(let t of e){let e=[];for(let o of("childList"===t.type?t.addedNodes.length>0?e=t.addedNodes:t.removedNodes.length:"attributes"===t.type||"characterData"===t.type&&(e=[t.target]),e)){for(var a=!1,r=0;r<n.length;r++)if(n[r].isSameNode(o)){a=!0;break}if(a)break;n.push.apply(n,[o])}}if(n.length>0){var o=[];for(let e of n){for(var i=!1,s=0;s<translate.inProgressNodes.length;s++)if(translate.inProgressNodes[s].node.isSameNode(e)){i=!0;break}if(i)continue;let t=nodeuuid.uuid(e);void 0!==translate.listener.ignoreNode[t]&&translate.listener.ignoreNode[t].addtime>Date.now()&&"string"==typeof e.nodeValue&&e.nodeValue==translate.listener.ignoreNode[t].text||o.push(e)}if(o.length<1)return;setTimeout(function(){translate.execute(o)},10)}},translate.listener.observer=new MutationObserver(translate.listener.callback);for(var e=translate.getDocuments(),t=0;t<e.length;t++){var n=e[t];null!=n&&translate.listener.observer.observe(n,translate.listener.config)}},renderTaskFinish:function(e){},execute:{renderStartByApi:[],renderStartByApiRun:function(e,t,n){for(var a=0;a<translate.listener.execute.renderStartByApi.length;a++)try{translate.listener.execute.renderStartByApi[a](e,t,n)}catch(e){console.log(e)}},renderFinishByApi:[],renderFinishByApiRun:function(e,t,n){for(var a=0;a<translate.listener.execute.renderFinishByApi.length;a++)try{translate.listener.execute.renderFinishByApi[a](e,t,n)}catch(e){console.log(e)}}}},renderTask:class{constructor(){this.taskQueue=[],this.nodes=[]}add(e,t,n,a){var r=translate.element.nodeAnalyse.get(e,a),o=translate.util.hash(r.text);void 0===this.nodes[o]&&(this.nodes[o]=[]),this.nodes[o].push(e);var i=this.taskQueue[o];(null==i||void 0===i)&&(i=[]);var s=[];" "==t.substr(0,1)&&" "!=n.substr(0,1)&&(n=" "+n)," "===t.substr(t.length-1,1)&&" "!=n.substr(0,1)&&(n+=" "),s.originalText=t,s.resultText=n,s.attribute=a,i.push(s),this.taskQueue[o]=i}execute(){for(var e in this.taskQueue)if(this.taskQueue.hasOwnProperty(e)){var t=this.taskQueue[e];"function"!=typeof t&&(t.sort((e,t)=>t.originalText.length-e.originalText.length),this.taskQueue[e]=t)}for(var e in translate.listener.refreshIgnoreNode(),this.nodes)if(this.nodes.hasOwnProperty(e))for(var t=this.taskQueue[e],n=0;n<this.nodes[e].length;n++)for(var a=0;a<t.length;a++){var r=t[a];if("function"!=typeof t){var o=this.nodes[e][a];setTimeout(function(e){for(var t=0;t<translate.inProgressNodes.length;t++)if(translate.inProgressNodes[t].node.isSameNode(e)){translate.inProgressNodes[t].number=translate.inProgressNodes[t].number-1,translate.inProgressNodes[t].number<1&&translate.inProgressNodes.splice(t,1);break}},50,o);var i=translate.element.nodeAnalyse.set(this.nodes[e][a],r.originalText,r.resultText,r.attribute);translate.listener.addIgnore(this.nodes[e][a],translate.listener.translateExecuteNodeIgnoreExpireTime,i.resultText)}}if(void 0!==this.taskQueue&&Object.keys(this.taskQueue).length>0){var s=this;setTimeout(function(){for(var e in s.nodes)if(s.nodes.hasOwnProperty(e)){for(var t in s.nodes[e])if(s.nodes[e].hasOwnProperty(t)){var n=translate.element.nodeAnalyse.get(s.nodes[e][t]),a=nodeuuid.uuid(n.node);0!=a.length&&(translate.nodeHistory[a]={},translate.nodeHistory[a].node=n.node,translate.whole.isWhole(n.node)?translate.nodeHistory[a].translateText=s.taskQueue[e][t].resultText:translate.nodeHistory[a].translateText=n.text)}}translate.listener.renderTaskFinish(s)},50)}}},state:0,waitingExecute:{use:!0,queue:[],add:function(e){translate.waitingExecute.queue.push(e);let t=setInterval(function(){if(0==translate.state){clearInterval(t);var e=translate.waitingExecute.get();translate.execute(e)}},500)},get:function(){return translate.waitingExecute.queue.length>0?translate.waitingExecute.queue.shift():(console.log("警告， translate.waitingExecute.get 出现异常，quque已空，但还往外取。"),null)},isAllExecuteFinish:function(e,t,n){for(var a in translate.listener.execute.renderFinishByApiRun(e,t,n),translate.translateRequest[e])if(translate.translateRequest[e].hasOwnProperty(a)){for(var r=0;r<translate.translateRequest[e][a].length;r++)if(0==translate.translateRequest[e][a][r].executeFinish)return}translate.lifecycle.execute.renderFinish_Trigger(e,n),translate.state=0,translate.executeNumber++}},executeNumber:0,lifecycle:{execute:{start:[],startRun:function(e,t,n){for(var a=0;a<translate.listener.execute.renderStartByApi.length;a++)try{translate.listener.execute.renderStartByApi[a](e,t,n)}catch(e){console.log(e)}},scanNodesFinsh:[],translateNetworkBefore:[],translateNetworkFinish:[],translateNetworkAfter_Trigger:function(e,t){for(var n=0;n<translate.lifecycle.execute.translateNetworkAfter.length;n++)try{translate.lifecycle.execute.translateNetworkAfter[n](e,t)}catch(e){console.log(e)}},renderFinish:[function(e,t){translate.visual.adjustTranslationSpacesByNodequeueUuid(e)}],renderFinish_Trigger:function(e,t){for(var n=0;n<translate.lifecycle.execute.renderFinish.length;n++)try{translate.lifecycle.execute.renderFinish[n](e,t)}catch(e){console.log(e)}}}},execute:function(e){if(translate.waitingExecute.use&&0!=translate.state){console.log("当前翻译还未完结，新的翻译任务已加入等待翻译队列中，待翻译结束后便会执行当前翻译任务。"),translate.waitingExecute.add(e);return}translate.state=1,void 0!==e&&(translate.useVersion="v2"),"v1"==translate.useVersion&&(console.log("提示：https://github.com/xnx3/translate 在 v2.5 版本之后，由于谷歌翻译调整，免费翻译通道不再支持，所以v1版本的翻译接口不再被支持，v1全线下架。考虑到v1已不能使用，当前已自动切换到v2版本。如果您使用中发现什么异常，请针对v2版本进行适配。"),translate.useVersion="v2");try{translate.init()}catch(e){}var t,n=translate.util.uuid();if(null==translate.to||""==translate.to){var a=translate.storage.get("to");null!=a&&void 0!==a&&a.length>0&&(translate.to=a)}try{translate.selectLanguageTag.render()}catch(e){console.log(e)}if(null==translate.to||void 0===translate.to||0==translate.to.length){translate.autoDiscriminateLocalLanguage&&translate.executeByLocalLanguage(),translate.state=0;return}if(translate.to==translate.language.getLocal())if(translate.language.translateLocal);else{translate.state=0;return}translate.images.execute(),void 0!==e&&null!=e?void 0===e.length?(t=[])[0]=e:t=e:t=translate.getDocuments(),t.length>500&&(console.log("------tip------"),console.log("translate.execute( docs ) 传入的docs.length 过大，超过500，这很不正常，当前 docs.length : "+t.length+" ,如果你感觉真的没问题，请联系作者 http://translate.zvo.cn/43006.html 说明情况，根据你的情况进行分析。 当前只取前500个元素进行翻译"));for(var r=0;r<t.length&r<500;r++){var o=t[r];translate.element.whileNodes(n,o)}if(translate.language.translateLanguagesRange.length>0)for(var i in translate.nodeQueue[n].list)translate.nodeQueue[n].list.hasOwnProperty(i)&&0>translate.language.translateLanguagesRange.indexOf(i)&&delete translate.nodeQueue[n].list[i];for(var i in void 0===translate.nodeQueue[n]&&(translate.nodeQueue[n]=[],translate.nodeQueue[n].list=[],console.log("--- translate.js warn tip 警告！！ ---"),console.log("您使用translate.js时可能放的位置不对，不要吧 translate.js 放在网页最顶部，这样当 translate.js 进行执行，也就是 translate.execute() 执行时，因为网页是从上往下加载，它放在网页最顶部，那么它执行时网页后面的内容都还没加载出来，这个是不会获取到网页任何内容的，也就是它是不起任何作用的")),translate.nodeQueue[n].list)if(translate.nodeQueue[n].list.hasOwnProperty(i)){for(var s in translate.nodeQueue[n].list[i])if(translate.nodeQueue[n].list[i].hasOwnProperty(s)&&"function"!=typeof translate.nodeQueue[n].list[i][s]&&void 0!==translate.nodeQueue[n].list[i][s].nodes&&void 0!==translate.nodeQueue[n].list[i][s].nodes.length){for(var l=translate.nodeQueue[n].list[i][s].nodes.length-1;l>-1;l--){var u=translate.element.nodeAnalyse.get(translate.nodeQueue[n].list[i][s].nodes[l].node),d=nodeuuid.uuid(u.node);void 0!==translate.nodeHistory[d]&&translate.nodeHistory[d].translateText==u.text&&translate.nodeQueue[n].list[i][s].nodes.splice(l,1)}0==translate.nodeQueue[n].list[i][s].nodes.length&&delete translate.nodeQueue[n].list[i][s]}0==Object.keys(translate.nodeQueue[n].list[i]).length&&delete translate.nodeQueue[n].list[i]}var c={},g={},h={},f=[];for(var i in translate.nodeQueue[n].list){if(!translate.nodeQueue[n].list.hasOwnProperty(i)||null==i||void 0===i||0==i.length||"undefined"==i)continue;c[i]=[],g[i]=[];let e=new translate.renderTask;for(var s in h[i]=[],translate.nodeQueue[n].list[i])if(translate.nodeQueue[n].list[i].hasOwnProperty(s)&&"function"!=typeof translate.nodeQueue[n].list[i][s]){var p=translate.nodeQueue[n].list[i][s].original,v=translate.nodeQueue[n].list[i][s].translateText,m=p==v?s:translate.util.hash(v);translate.nodeQueue[n].list[i][s].cacheHash=m;var x=translate.storage.get("hash_"+translate.to+"_"+m);if(null!=x&&x.length>0){for(var y=0;y<translate.nodeQueue[n].list[i][s].nodes.length;y++){for(var w=translate.nodeQueue[n].list[i][s].nodes[y].node,b=!1,T=0;T<translate.inProgressNodes.length;T++)translate.inProgressNodes[T].node.isSameNode(w)&&(translate.inProgressNodes[T].number++,b=!0);b||translate.inProgressNodes.push({node:w,number:1});var N=translate.nodeQueue[n].list[i][s].nodes[y].beforeText+x+translate.nodeQueue[n].list[i][s].nodes[y].afterText;e.add(translate.nodeQueue[n].list[i][s].nodes[y].node,p,N,translate.nodeQueue[n].list[i][s].nodes[y].attribute);for(var k=-1,r=0;r<h[i].length;r++)if(translate.nodeQueue[n].list[i][s].nodes[y].node.isSameNode(h[i][r].node)){k=r;break}for(var q=-1,r=0;r<f.length;r++)if(translate.nodeQueue[n].list[i][s].nodes[y].node.isSameNode(f[r].node)){q=r;break}-1==k&&(k=h[i].length,h[i][k]={},h[i][k].node=translate.nodeQueue[n].list[i][s].nodes[y].node,h[i][k].array=[]),-1==q&&(q=f.length,f[q]={},f[q].node=translate.nodeQueue[n].list[i][s].nodes[y].node,f[q].array=[]);var O=h[i][k].array.length;h[i][k].array[O]=N;var C=f[q].array.length;f[q].array[C]=N}continue}c[i].push(v),g[i].push(s)}e.execute()}for(var i in h)if(h.hasOwnProperty(i)){for(var I=Object.keys(translate.nodeQueue[n].list[i]),R=I.length,r=0;r<h[i].length;r++){for(var L=0;L<f.length;L++)if(h[i][r].node.isSameNode(f[L].node)){h[i][r].array=f[L].array;break}h[i][r].array.sort(function(e,t){return t.length-e.length});for(var Q=translate.element.nodeAnalyse.get(h[i][r].node),_=Q.text,E=0;E<h[i][r].array.length;E++)h[i][r].array[E]<1||(_=_.replace(RegExp(translate.util.regExp.pattern(h[i][r].array[E]),"g"),translate.util.regExp.resultText("\n")));for(var S=_.split("\n"),A=0;A<S.length;A++)S[A]<1||translate.addNodeToQueue(n,Q.node,S[A])}var j=Object.keys(translate.nodeQueue[n].list[i]);if(R-j.length!=0)for(var P=0;P<j.length;P++){var D=j[P];if(-1==I.indexOf(D)){var F=translate.nodeQueue[n].list[i][D],m=F.original==F.translateText?D:translate.util.hash(F.translateText);translate.nodeQueue[n].list[i][D].cacheHash=m,c[i].push(F.translateText),g[i].push(D)}}}var B=[];for(var i in translate.nodeQueue[n].list)translate.nodeQueue[n].list.hasOwnProperty(i)&&void 0!==c[i]&&!(c[i].length<1)&&i!=translate.to&&B.push(i);if(0==B.length){translate.lifecycle.execute.renderFinish_Trigger(n,translate.to),translate.state=0,translate.executeNumber++;return}for(var i in g)if(g.hasOwnProperty(i)&&void 0!==g[i]&&!(g[i].length<1))for(var H=0;H<g[i].length;H++){var z=g[i][H];if(void 0===translate.nodeQueue[n].list[i][z].nodes||void 0===translate.nodeQueue[n].list[i][z].nodes.length){console.log("translate.nodeQueue['"+n+"']['list']['"+i+"']['"+z+"'].nodes.length is null ，理论上不应该存在，进行异常报出，但不影响使用，已容错。");continue}for(var M=0;M<translate.nodeQueue[n].list[i][z].nodes.length;M++){for(var w=translate.nodeQueue[n].list[i][z].nodes[M].node,b=!1,T=0;T<translate.inProgressNodes.length;T++)translate.inProgressNodes[T].node.isSameNode(w)&&(translate.inProgressNodes[T].number++,b=!0);b||translate.inProgressNodes.push({node:w,number:1})}}for(var U in translate.state=20,B)if(B.hasOwnProperty(U)){var i=B[U];if("string"==typeof i){if(void 0===c[i]||c[i].length<1){console.log("异常,理论上不应该存在, lang:"+i+", translateTextArray:"),console.log(c),console.log("你无需担心，这个只是个提示，它并不影响你翻译的正常进行，只是个异常提示而已，它会自动容错处理的，不会影响翻译的使用。"),translate.state=0,translate.executeNumber++;return}(void 0===translate.translateRequest[n]||null==translate.translateRequest[n])&&(translate.translateRequest[n]={}),translate.translateRequest[n][i]={},translate.translateRequest[n][i].executeFinish=0,translate.translateRequest[n][i].addtime=Math.floor(Date.now()/1e3),translate.listener.execute.renderStartByApiRun(n,i,translate.to);var $=translate.request.api.translate,V={from:i,to:translate.to,text:encodeURIComponent(JSON.stringify(c[i]))};translate.request.post($,V,function(e){if(0==e.result){"object"==typeof translate.translateRequest[n]&&"object"==typeof translate.translateRequest[n][e.from]?(translate.translateRequest[n][e.from].result=2,translate.translateRequest[n][e.from].executeFinish=1,translate.translateRequest[n][e.from].stoptime=Math.floor(Date.now()/1e3)):console.log("WARINNG!!! translate.translateRequest[uuid][data.from] is not object");var t="";void 0!==e.from&&null!=e.from&&(t=e.from);var a="";a=void 0!==e.to&&null!=e.to?e.to:translate.to,translate.waitingExecute.isAllExecuteFinish(n,t,a),console.log("=======ERROR START======="),console.log(c[e.from]),console.log("response : "+e.info),console.log("=======ERROR END  =======");return}if(void 0===translate.nodeQueue[n])return void console.log("提示：你很可能多次引入了 translate.js 所以造成了翻译本身的数据错乱，这只是个提示，它还是会给你正常翻译的，但是你最好不要重复引入太多次 translate.js ，正常情况下只需要引入一次 translate.js 就可以了。太多的话很可能会导致你页面卡顿");let r=new translate.renderTask;for(var o=0;o<g[e.from].length;o++){var i=e.from,s=e.text[o];if(null!=s){s.toLowerCase().indexOf(c[e.from][o].toLowerCase())>-1&&(s=c[e.from][o]);var l=g[e.from][o],u=translate.nodeQueue[n].list[i][l].cacheHash,d="";try{d=translate.nodeQueue[n].list[i][l].original}catch(e){console.log("uuid:"+n+", originalWord:"+d+", lang:"+i+", hash:"+l+", text:"+s+", queue:"+translate.nodeQueue[n]),console.log(e);continue}for(var h=0;h<translate.nodeQueue[n].list[i][l].nodes.length;h++)r.add(translate.nodeQueue[n].list[i][l].nodes[h].node,d,translate.nodeQueue[n].list[i][l].nodes[h].beforeText+s+translate.nodeQueue[n].list[i][l].nodes[h].afterText,translate.nodeQueue[n].list[i][l].nodes[h].attribute);translate.storage.set("hash_"+e.to+"_"+u,s),translate.office.fullExtract.isUse&&translate.office.fullExtract.set(l,d,e.to,s)}}r.execute(),translate.translateRequest[n][i].result=1,translate.translateRequest[n][i].executeFinish=1,translate.translateRequest[n][i].stoptime=Math.floor(Date.now()/1e3),setTimeout(function(){translate.waitingExecute.isAllExecuteFinish(n,e.from,e.to)},10)},function(e){translate.translateRequest[n][e.data.from].executeFinish=1,translate.translateRequest[n][e.data.from].stoptime=Math.floor(Date.now()/1e3),translate.translateRequest[n][e.data.from].result=3,translate.waitingExecute.isAllExecuteFinish(n,e.data.from,translate.to)})}}},translateRequest:{},nodeHistory:{},element:{tagAttribute:{},nodeAnalyse:{get:function(e,t){return translate.element.nodeAnalyse.analyse(e,"","",t)},set:function(e,t,n,a){return translate.element.nodeAnalyse.analyse(e,t,n,a)},analyse:function(e,t,n,a){var r=[];r.node=e,r.text="";var o=translate.element.getNodeName(e);if(null!=a&&"string"==typeof a&&a.length>0){if(r.text=e[a],void 0!==t&&t.length>0){if(void 0!==e[a]){var i=translate.util.textReplace(e[a],t,n,translate.to);e[a]=i,i.indexOf(n)>-1?r.resultText=i:r.resultText=""}var s=e.getAttribute(a);if(null!=s&&void 0!==s){var i=translate.util.textReplace(s,t,n,translate.to);e.setAttribute(a,i),i.indexOf(n)>-1?r.resultText=i:r.resultText=""}}return r}if("#text"==o&&void 0!==e.parentNode&&"TEXTAREA"==translate.element.getNodeName(e.parentNode)&&(o="TEXTAREA",e=e.parentNode),"INPUT"==o||"TEXTAREA"==o){if(null==e.attributes||void 0===e.attributes)return r.text="",r;if("INPUT"==o&&void 0!==e.attributes.type&&(e.attributes.type.nodeValue,1)&&("button"==e.attributes.type.nodeValue.toLowerCase()||"submit"==e.attributes.type.nodeValue.toLowerCase())){var l=e.attributes.value;if(null!=l&&void 0!==l&&void 0!==l.nodeValue&&l.nodeValue.length>0){if(void 0!==t&&t.length>0){var i=translate.util.textReplace(l.nodeValue,t,n,translate.to);l.nodeValue=i,i.indexOf(n)>-1?r.resultText=i:r.resultText=""}return r.text=l.nodeValue,r.node=l,r}}if(void 0!==e.attributes.placeholder){if(void 0!==t&&t.length>0){var i=translate.util.textReplace(e.attributes.placeholder.nodeValue,t,n,translate.to);e.attributes.placeholder.nodeValue=i,i.indexOf(n)>-1?r.resultText=i:r.resultText=""}return r.text=e.attributes.placeholder.nodeValue,r.node=e.attributes.placeholder,r}return r.text="",r}if("META"==o){if(void 0!==e.name&&null!=e.name){var u=e.name.toLowerCase(),d=e.getAttribute("property"),c="";if(void 0!==d&&null!=d&&d.length>0&&(c=d.toLowerCase()),"keywords"==u||"description"==u||"sharetitle"==u||"og:title"==c||"og:description"==c||"og:site_name"==c||"og:novel:latest_chapter_name"==c){if(void 0!==t&&null!=t&&t.length>0){var i=translate.util.textReplace(e.content,t,n,translate.to);e.content=i,i.indexOf(n)>-1?r.resultText=i:r.resultText=""}return r.text=e.content,r}}return r.text="",r}if("IMG"==o){if(void 0===e.alt||null==e.alt)return r.text="",r;if(void 0!==t&&t.length>0){var i=translate.util.textReplace(e.alt,t,n,translate.to);e.alt=i,i.indexOf(n)>-1?r.resultText=i:r.resultText=""}return r.text=e.alt,r}if(null==e.nodeValue||void 0===e.nodeValue)r.text="";else if(0==e.nodeValue.trim().length)r.text="";else{if(void 0!==t&&null!=t&&t.length>0){var i=translate.util.textReplace(e.nodeValue,t,n,translate.to);e.nodeValue=i,i.indexOf(n)>-1?r.resultText=i:r.resultText=""}r.text=e.nodeValue}return r}},getNodeName:function(e){return null==e||void 0===e||null==e.nodeName||void 0===e.nodeName?"":(e.nodeName,"string"==typeof e.nodeName)?e.nodeName:"string"==typeof e.tagName&&e.tagName.length>0?e.tagName:(console.log("warn : get nodeName is null, this node ignore translate. node : "),console.log(e),"")},whileNodes:function(e,t){if(null!=t&&void 0!==t){(void 0===translate.nodeQueue[e]||null==translate.nodeQueue[e])&&(translate.nodeQueue[e]=[],translate.nodeQueue[e].expireTime=Date.now()+12e4,translate.nodeQueue[e].list=[]),"object"==typeof t&&"string"==typeof t.title&&t.title.length>0&&!translate.ignore.isIgnore(t)&&translate.addNodeToQueue(e,t,t.title,"title");var n=translate.element.getNodeName(t).toLowerCase();if(void 0!==translate.element.tagAttribute[n]){for(var a in translate.element.tagAttribute[n])if(translate.element.tagAttribute[n].hasOwnProperty(a)){var r=translate.element.tagAttribute[n][a],o="HTMLAtrribute",i=t.getAttribute(r);(void 0===i||null==i)&&(i=t[r],o="DOMProperty"),void 0!==i&&null!=i&&(translate.ignore.isIgnore(t)||translate.addNodeToQueue(e,t,i,r))}}var s=t.childNodes;if(null!=s&&void 0!==s)if(s.length>0)for(var l=0;l<s.length;l++)translate.element.whileNodes(e,s[l]);else translate.element.findNode(e,t)}},findNode:function(e,t){if(null!=t&&void 0!==t&&null!=t.parentNode){var n=translate.element.getNodeName(t.parentNode);if(!(""==n||translate.ignore.tag.indexOf(n.toLowerCase())>-1)&&!translate.ignore.isIgnore(t)){var a=translate.element.nodeAnalyse.get(t);a.text.length>0&&translate.addNodeToQueue(e,a.node,a.text)}}}},addNodeToQueue:function(e,t,n,a){if(null!=t&&null!=n&&0!=n.length&&"#comment"!=translate.element.getNodeName(t).toLowerCase()){var r,o=translate.util.hash(n);if(translate.util.findTag(n)){if(null==t.parentNode)return;var i=translate.element.getNodeName(t.parentNode);if("SCRIPT"==i||"STYLE"==i)return}var s=[];s.push(n);for(var l=0;l<translate.ignore.textRegex.length;l++)for(var u=translate.ignore.textRegex[l],d=0;d<s.length;d++){var n=s[d],c=n.match(u)||[];translate.ignore.text=translate.ignore.text.concat(c)}for(var g=0;g<translate.ignore.text.length;g++)0!=translate.ignore.text[g].trim().length&&(s=translate.addNodeToQueueTextAnalysis(e,t,s,a,translate.ignore.text[g],translate.ignore.text[g]));if(void 0===translate.temp_nomenclature&&(translate.temp_nomenclature=[]),void 0===translate.temp_nomenclature[translate.language.getLocal()]&&(r=[]),void 0!==translate.nomenclature.data[translate.language.getLocal()]&&void 0!==translate.nomenclature.data[translate.language.getLocal()][translate.to]){for(var h in translate.nomenclature.data[translate.language.getLocal()][translate.to])if(translate.nomenclature.data[translate.language.getLocal()][translate.to].hasOwnProperty(h)){var f=translate.nomenclature.data[translate.language.getLocal()][translate.to][h];s=translate.addNodeToQueueTextAnalysis(e,t,s,a,h,f),void 0!==r&&r.push(h)}void 0===translate.temp_nomenclature[translate.language.getLocal()]&&(translate.temp_nomenclature[translate.language.getLocal()]=r)}for(var d=0;d<s.length;d++)!(0==s[d].trim().length||translate.ignore.text.indexOf(s[d].trim())>-1)&&(void 0!==translate.temp_nomenclature[translate.language.getLocal()]&&translate.temp_nomenclature[translate.language.getLocal()].indexOf(s[d].trim())>-1||translate.addNodeToQueueAnalysis(e,t,s[d],a))}},addNodeToQueueTextAnalysis:function(e,t,n,a,r,o){for(var i=[],s=0;s<n.length;s++){var l=n[s];if(l.trim()!=o.trim()){var u=l.indexOf(r);if(u>-1){if(r!=o){var d=u-o.length;d<0&&(d=0);var c=u+o.length;if(c>l.length&&(c=l.length),l.substring(d,c).indexOf(o)>-1)continue}r!=o&&translate.element.nodeAnalyse.set(t,r,o,a);for(var g=l.split(r),h=0;h<g.length;h++){var f=g[h];0!=f.trim().length&&(n.push(f),i.push(l))}}}}if(i.length>0)for(var p=0;p<i.length;p++){let e=n.indexOf(i[p]);e>-1&&n.splice(e,1)}return n},addNodeToQueueAnalysis:function(e,t,n,a){var r=translate.language.recognition(n),o=r.languageArray;if(void 0!==o[translate.to]&&delete o[translate.to],translate.whole.isWhole(t)){var i=r.languageName;translate.addNodeQueueItem(e,t,n,a,i,"","")}else for(var i in o)if(o.hasOwnProperty(i)){for(var s=0;s<o[i].list.length;s++)if(void 0!==o[i].list[s]&&void 0!==o[i].list[s].text){var l=o[i].list[s].text,u=o[i].list[s].beforeText,d=o[i].list[s].afterText;translate.addNodeQueueItem(e,t,l,a,i,u,d)}}},addNodeQueueItem:function(e,t,n,a,r,o,i){(null==translate.nodeQueue[e].list[r]||void 0===translate.nodeQueue[e].list[r])&&(translate.nodeQueue[e].list[r]=[]);var s=translate.util.hash(n);(null==translate.nodeQueue[e].list[r][s]||void 0===translate.nodeQueue[e].list[r][s])&&(translate.nodeQueue[e].list[r][s]=[],translate.nodeQueue[e].list[r][s].nodes=[],translate.nodeQueue[e].list[r][s].original=n,translate.nodeQueue[e].list[r][s].translateText=n);var l=!1;if(void 0!==t.isSameNode){for(var u=0;u<translate.nodeQueue[e].list[r][s].nodes.length;u++)if(t.isSameNode(translate.nodeQueue[e].list[r][s].nodes[u].node)){l=!0;continue}}if(!l){var d=translate.nodeQueue[e].list[r][s].nodes.length;translate.nodeQueue[e].list[r][s].nodes[d]=[],translate.nodeQueue[e].list[r][s].nodes[d].node=t,translate.nodeQueue[e].list[r][s].nodes[d].attribute=a,translate.nodeQueue[e].list[r][s].nodes[d].beforeText=o,translate.nodeQueue[e].list[r][s].nodes[d].afterText=i}},whole:{isEnableAll:!1,enableAll:function(){translate.whole.isEnableAll=!0},class:[],tag:[],id:[],executeTip:function(){0==translate.whole.class.length&&0==translate.whole.tag.length&&0==translate.whole.id.length||console.log("您开启了 translate.whole 此次行为避开了浏览器端的文本语种自动识别，而是暴力的直接对某个元素的整个文本进行翻译，很可能会产生非常大的翻译量，请谨慎！有关每日翻译字符的说明，可参考： http://translate.zvo.cn/42557.html "),translate.whole.tag.indexOf("html")>-1&&console.log("自检发现您设置了 translate.whole.tag 其中有 html ，这个是不生效的，最大只允许设置到 body ")},isWhole:function(e){if(translate.whole.isEnableAll)return!0;if(0==translate.whole.class.length&&0==translate.whole.tag.length&&0==translate.whole.id.length&&!1==translate.whole.isEnableAll||null==e||void 0===e)return!1;for(var t=e,n=100;n-- >0&&null!=t&&void 0!==t;){var a=translate.element.getNodeName(t).toLowerCase();if(a.length>0){if("html"==a||"#document"==a)return!1;if(translate.whole.tag.indexOf(a)>-1)return!0}if(null!=t.className){var r=t.className;if(null==r||"string"!=typeof r)continue;r=r.trim().split(" ");for(var o=0;o<r.length;o++)if(null!=r[o]&&r[o].trim().length>0&&translate.whole.class.indexOf(r[o])>-1)return!0}if(null!=t.id&&void 0!==t.id&&translate.whole.id.indexOf(t.id)>-1)return!0;t=t.parentElement}return!1}},language:{englishVarietys:["french","italian","deutsch"],local:"",translateLocal:!1,translateLanguagesRange:[],setLocal:function(e){translate.useVersion="v2",translate.language.local=e},getLocal:function(){return(null==translate.language.local||translate.language.local.length<1)&&translate.language.autoRecognitionLocalLanguage(),translate.language.local},getCurrent:function(){var e=translate.storage.get("to");return null!=e&&void 0!==e&&e.length>0?e:translate.language.getLocal()},setDefaultTo:function(e){var t=translate.storage.get("to");null!=t&&void 0!==t&&t.length>0||(translate.storage.set("to",e),translate.to=e)},clearCacheLanguage:function(){translate.to="",translate.storage.set("to","")},setUrlParamControl:function(e){(void 0===e||e.length<1)&&(e="language");var t=translate.util.getUrlParam(e);void 0!==t&&""!=t&&"null"!=t&&"undefined"!=t&&(translate.storage.set("to",t),translate.to=t)},autoRecognitionLocalLanguage:function(){if(null!=translate.language.local&&translate.language.local.length>2)return translate.language.local;for(var e="",t=translate.getDocuments(),n=0;n<t.length;n++){var a=t[n];void 0!==a&&null!=a&&void 0!==a.innerText&&null!=a.innerText&&a.innerText.length>0&&(e+=a.innerText)}if(null==e||void 0===e||e.length<1){translate.language.local="chinese_simplified";return}e=e.replace(/\n|\t|\r/g,""),translate.language.local="chinese_simplified";var r=translate.language.recognition(e);return translate.language.local=r.languageName,translate.language.local},get:function(e){for(var t=[],n=[],a=[],r=[],o=0;o<e.length;o++){var i=e.charAt(o),s=translate.language.getCharLanguage(i);""==s&&(s="unidentification");var l=translate.language.analyse(s,n,a,r,i);n=l.langStrs,void 0!==a.language&&(r.language=a.language,r.charstr=a.charstr,r.storage_language=a.storage_language),a.language=l.storage_language,a.charstr=i,a.storage_language=l.storage_language,t.push(s)}return void 0!==n.unidentification&&delete n.unidentification,void 0!==n.specialCharacter&&delete n.specialCharacter,void 0!==n.number&&delete n.number,n},recognition:function(e){var t=translate.language.get(e),n=[],a=[],r=0;for(var o in t)if(t.hasOwnProperty(o)&&"object"==typeof t[o]){for(var i=0,s=0;s<t[o].length;s++)i+=t[o][s].text.length;r+=i,n[o]=i,a[o]=i}var l=[];for(var u in n)n.hasOwnProperty(u)&&n[u]/r>.01&&(l[l.length]=u+"");if(l.length>1&&l.indexOf("english")>-1)if(l.indexOf("romance")>-1){var d=translate.language.romanceSentenceAnaly(e);0==d.length?console.log("语种识别异常，应该是 法语、西班牙语、葡萄牙语、意大利语 中的一种才是，除非是除了这四种语种之外的别的 罗曼语族 中的语种，当前已将 "+e+"识别为英语。 你可以联系我们求助 https://translate.zvo.cn/4030.html"):(n[d]=n.romance+n.english,n.english=0)}else n.english=0;l.indexOf("chinese_simplified")>-1&&l.indexOf("chinese_traditional")>-1&&(n.chinese_simplified=0),l.length>1&&l.indexOf("japanese")>-1&&(n.chinese_simplified=0,n.chinese_traditional=0);var c="",g=0;for(var u in n)n.hasOwnProperty(u)&&n[u]>g&&(c=u,g=n[u]);var h={};for(var u in t)t.hasOwnProperty(u)&&(h[u]={},h[u].number=a[u],h[u].list=t[u]);var f={languageName:c,languageArray:h};if("english"==f.languageName){var p=translate.language.getLocal();translate.language.englishVarietys.indexOf(p)>-1&&(f.languageName=p)}return f},getCharLanguage:function(e){if(null==e||void 0===e)return"";if(this.russian(e))return"russian";if(this.english(e))return"english";if(this.romance(e))return"romance";if(this.specialCharacter(e))return"specialCharacter";if(this.number(e))return"number";var t=this.chinese(e);return"simplified"==t?"chinese_simplified":"traditional"==t?"chinese_traditional":this.japanese(e)?"japanese":this.korean(e)?"korean":this.greek(e)?"greek":this.thai(e)?"thai":this.arabic(e)?"arabic":this.romanian(e)?"romanian":this.hebrew(e)?"hebrew":""},analyse:function(e,t,n,a,r){void 0===t[e]&&(t[e]=[]);var o=0;void 0===n.storage_language||(translate.language.connector(r)&&(e=n.storage_language),o=n.storage_language==e?t[e].length-1:t[e].length),void 0===t[e][o]&&(t[e][o]=[],t[e][o].beforeText="",t[e][o].afterText="",t[e][o].text=""),t[e][o].text=t[e][o].text+r,!1==translate.language.wordBlankConnector(translate.language.getLocal())&&translate.language.wordBlankConnector(translate.to)&&null!=n.storage_language&&void 0!==n.storage_language&&n.storage_language.length>0&&"specialCharacter"!=n.storage_language&&(!1==translate.language.wordBlankConnector(n.storage_language)&&translate.language.wordBlankConnector(e)?t[n.storage_language][t[n.storage_language].length-1].afterText=" ":"english"==n.storage_language&&"english"!=e&&(t[e][o].beforeText=" "));var i=[];return i.langStrs=t,i.storage_language=e,i},connector:function(e){return!!(/.*[\u0020\u00A0\u202F\u205F\u3000]+.*$/.test(e)||/.*[\u0030-\u0039]+.*$/.test(e)||/.*[\u0021\u0022\u0023\u0024\u0025\u0026\u0027\u002C\u002D\u002E\u003A\u003B\u003F\u0040]+.*$/.test(e)||/.*[\u3002\uFF1F\uFF01\uFF0C\u3001\uFF1B\uFF1A\u300C\u300D\u300E\u300F\u2018\u2019\u201C\u201D\uFF08\uFF09\u3014\u3015\u3010\u3011\u2014\u2026\u2013\uFF0E\u300A\u300B\u3008\u3009\u00b7]+.*$/.test(e))},wordBlankConnector:function(e){if(null==e||void 0===e)return!0;switch(e.trim().toLowerCase()){case"chinese_simplified":case"chinese_traditional":case"korean":case"japanese":return!1}return!0},chinese_traditional_dict:"皚藹礙愛翺襖奧壩罷擺敗頒辦絆幫綁鎊謗剝飽寶報鮑輩貝鋇狽備憊繃筆畢斃閉邊編貶變辯辮鼈癟瀕濱賓擯餅撥缽鉑駁蔔補參蠶殘慚慘燦蒼艙倉滄廁側冊測層詫攙摻蟬饞讒纏鏟産闡顫場嘗長償腸廠暢鈔車徹塵陳襯撐稱懲誠騁癡遲馳恥齒熾沖蟲寵疇躊籌綢醜櫥廚鋤雛礎儲觸處傳瘡闖創錘純綽辭詞賜聰蔥囪從叢湊竄錯達帶貸擔單鄲撣膽憚誕彈當擋黨蕩檔搗島禱導盜燈鄧敵滌遞締點墊電澱釣調諜疊釘頂錠訂東動棟凍鬥犢獨讀賭鍍鍛斷緞兌隊對噸頓鈍奪鵝額訛惡餓兒爾餌貳發罰閥琺礬釩煩範販飯訪紡飛廢費紛墳奮憤糞豐楓鋒風瘋馮縫諷鳳膚輻撫輔賦複負訃婦縛該鈣蓋幹趕稈贛岡剛鋼綱崗臯鎬擱鴿閣鉻個給龔宮鞏貢鈎溝構購夠蠱顧剮關觀館慣貫廣規矽歸龜閨軌詭櫃貴劊輥滾鍋國過駭韓漢閡鶴賀橫轟鴻紅後壺護滬戶嘩華畫劃話懷壞歡環還緩換喚瘓煥渙黃謊揮輝毀賄穢會燴彙諱誨繪葷渾夥獲貨禍擊機積饑譏雞績緝極輯級擠幾薊劑濟計記際繼紀夾莢頰賈鉀價駕殲監堅箋間艱緘繭檢堿鹼揀撿簡儉減薦檻鑒踐賤見鍵艦劍餞漸濺澗漿蔣槳獎講醬膠澆驕嬌攪鉸矯僥腳餃繳絞轎較稭階節莖驚經頸靜鏡徑痙競淨糾廄舊駒舉據鋸懼劇鵑絹傑潔結誡屆緊錦僅謹進晉燼盡勁荊覺決訣絕鈞軍駿開凱顆殼課墾懇摳庫褲誇塊儈寬礦曠況虧巋窺饋潰擴闊蠟臘萊來賴藍欄攔籃闌蘭瀾讕攬覽懶纜爛濫撈勞澇樂鐳壘類淚籬離裏鯉禮麗厲勵礫曆瀝隸倆聯蓮連鐮憐漣簾斂臉鏈戀煉練糧涼兩輛諒療遼鐐獵臨鄰鱗凜賃齡鈴淩靈嶺領餾劉龍聾嚨籠壟攏隴樓婁摟簍蘆盧顱廬爐擄鹵虜魯賂祿錄陸驢呂鋁侶屢縷慮濾綠巒攣孿灤亂掄輪倫侖淪綸論蘿羅邏鑼籮騾駱絡媽瑪碼螞馬罵嗎買麥賣邁脈瞞饅蠻滿謾貓錨鉚貿麽黴沒鎂門悶們錳夢謎彌覓綿緬廟滅憫閩鳴銘謬謀畝鈉納難撓腦惱鬧餒膩攆撚釀鳥聶齧鑷鎳檸獰甯擰濘鈕紐膿濃農瘧諾歐鷗毆嘔漚盤龐國愛賠噴鵬騙飄頻貧蘋憑評潑頗撲鋪樸譜臍齊騎豈啓氣棄訖牽扡釺鉛遷簽謙錢鉗潛淺譴塹槍嗆牆薔強搶鍬橋喬僑翹竅竊欽親輕氫傾頃請慶瓊窮趨區軀驅齲顴權勸卻鵲讓饒擾繞熱韌認紉榮絨軟銳閏潤灑薩鰓賽傘喪騷掃澀殺紗篩曬閃陝贍繕傷賞燒紹賒攝懾設紳審嬸腎滲聲繩勝聖師獅濕詩屍時蝕實識駛勢釋飾視試壽獸樞輸書贖屬術樹豎數帥雙誰稅順說碩爍絲飼聳慫頌訟誦擻蘇訴肅雖綏歲孫損筍縮瑣鎖獺撻擡攤貪癱灘壇譚談歎湯燙濤縧騰謄銻題體屜條貼鐵廳聽烴銅統頭圖塗團頹蛻脫鴕馱駝橢窪襪彎灣頑萬網韋違圍爲濰維葦偉僞緯謂衛溫聞紋穩問甕撾蝸渦窩嗚鎢烏誣無蕪吳塢霧務誤錫犧襲習銑戲細蝦轄峽俠狹廈鍁鮮纖鹹賢銜閑顯險現獻縣餡羨憲線廂鑲鄉詳響項蕭銷曉嘯蠍協挾攜脅諧寫瀉謝鋅釁興洶鏽繡虛噓須許緒續軒懸選癬絢學勳詢尋馴訓訊遜壓鴉鴨啞亞訝閹煙鹽嚴顔閻豔厭硯彥諺驗鴦楊揚瘍陽癢養樣瑤搖堯遙窯謠藥爺頁業葉醫銥頤遺儀彜蟻藝億憶義詣議誼譯異繹蔭陰銀飲櫻嬰鷹應纓瑩螢營熒蠅穎喲擁傭癰踴詠湧優憂郵鈾猶遊誘輿魚漁娛與嶼語籲禦獄譽預馭鴛淵轅園員圓緣遠願約躍鑰嶽粵悅閱雲鄖勻隕運蘊醞暈韻雜災載攢暫贊贓髒鑿棗竈責擇則澤賊贈紮劄軋鍘閘詐齋債氈盞斬輾嶄棧戰綻張漲帳賬脹趙蟄轍鍺這貞針偵診鎮陣掙睜猙幀鄭證織職執紙摯擲幟質鍾終種腫衆謅軸皺晝驟豬諸誅燭矚囑貯鑄築駐專磚轉賺樁莊裝妝壯狀錐贅墜綴諄濁茲資漬蹤綜總縱鄒詛組鑽緻鐘麼為隻兇準啟闆裡靂餘鍊",chinese:function(e){return/.*[\u4e00-\u9fa5]+.*$/.test(e)?this.chinese_traditional_dict.indexOf(e)>-1?"traditional":"simplified":""},japanese:function(e){return!!/.*[\u3040-\u309F\u30A0-\u30FF]+.*$/.test(e)},korean:function(e){return!!/.*[\uAC00-\uD7AF]+.*$/.test(e)},russian:function(e){return!!/^[А-Яа-яЁё]$/.test(e)},thai:function(e){return!!/^[\u0E01-\u0E59]$/.test(e)},arabic:function(e){return/^[\u0600-\u06FF\u0750-\u077F]$/.test(e)},romanian:function(e){return/^[\u00C0-\u00FF\u0100-\u017F\u0218-\u021B]$/.test(e)},greek:function(e){return!!/^[\u0391-\u03A9\u03B1-\u03C9]$/.test(e)},hebrew:function(e){return/^[\u0590-\u05FF]$/.test(e)},number:function(e){return!!/.*[\u0030-\u0039]+.*$/.test(e)},english:function(e){return!!/.*[\u0041-\u005a]+.*$/.test(e)||!!/.*[\u0061-\u007a]+.*$/.test(e)},romance_dict:["\xe9","\xe8","\xea","\xe0","\xe7","œ","\xf1","\xe1","\xf3","\xf2","\xec","\xe3","\xf5"],romance:function(e){return this.romance_dict.indexOf(e)>-1},romanceSentenceAnaly:function(e){let t={french:{score:0,chars:["\xe9","\xe8","\xea","\xe0","\xe7","œ"]},spanish:{score:0,chars:["\xf1","\xe1","\xf3"],pairs:["ll"]},italian:{score:0,chars:["\xf2","\xec"],pairs:["cc","ss"]},portuguese:{score:0,chars:["\xe3","\xf5"]}};for(let n=0;n<e.length;n++){let a=e[n].toLowerCase();if(Object.keys(t).forEach(e=>{t[e].chars.includes(a)&&(t[e].score+=1)}),n<e.length-1){let a=e.slice(n,n+2).toLowerCase();Object.keys(t).forEach(e=>{let n=t[e].pairs;n&&n.includes(a)&&(t[e].score+=2)})}}let n="",a=-1;return Object.keys(t).forEach(e=>{t[e].score>a&&(a=t[e].score,n=e)}),n||""},specialCharacter:function(e){return!!(/.*[\u2460-\u24E9]+.*$/.test(e)||/.*[\u2500-\u25FF]+.*$/.test(e)||/.*[\u3200-\u33FF]+.*$/.test(e)||/.*[\uFF00-\uFF5E]+.*$/.test(e)||/.*[\u2000-\u22FF]+.*$/.test(e)||/.*[\u3001-\u3036]+.*$/.test(e)||/.*[\u0020-\u002F]+.*$/.test(e)||/.*[\u003B\u003B\u003C\u003D\u003E\u003F\u005B\u005C\u005D\u005E\u005F\u0060\u007B\u007C\u007D\u007E]+.*$/.test(e)||/.*[\u0009\u000a\u0020\u00A0\u1680\u180E\u202F\u205F\u3000\uFEFF]+.*$/.test(e)||/.*[\u2000-\u200B]+.*$/.test(e)||/.*[\u2C60-\u2C77]+.*$/.test(e))},textTranslateReplace:function(e,t,n,a){return translate.util.textReplace(e,t,n,a)}},executeByLocalLanguage:function(){var e=translate.util.browserDefaultLanguage();if(void 0!==e&&e.length>0)return void translate.changeLanguage(e);"string"!=typeof translate.request.api.ip||null==translate.request.api.ip||translate.request.api.ip.length<1||translate.request.post(translate.request.api.ip,{},function(e){0==e.result?(console.log("==== ERROR 获取当前用户所在区域异常 ===="),console.log(e.info),console.log("==== ERROR END ====")):(translate.storage.set("to",e.language),translate.to=e.language,translate.selectLanguageTag,translate.execute())},null)},util:{textReplace:function(e,t,n,a){if(e==t)return n;let r=0,o=30;for(;e.indexOf(t,r)>-1&&o-- >0;){let o=""+n,i=""+t;if(translate.language.wordBlankConnector(a)){let n=e.indexOf(t,r);if(n+1<e.length){let a=e.charAt(n+t.length);/。/.test(a)?(o+=". ",i=t+"。"):/，/.test(a)?(o+=", ",i=t+"，"):/：/.test(a)?(o+=": ",i=t+"："):-1!==[" ","\n","	","]","|","_","-","/"].indexOf(a)||(o+=" ")}if(n>0){let t=e.charAt(n-1);/。/.test(t)?(o=". "+o,i="。"+i):/，/.test(t)?(o=", "+o,i="，"+i):/：/.test(t)?(o=": "+o,i="："+i):-1!==[" ","\n","	","[","|","_","-","/"].indexOf(t)||(o=" "+o)}}let s=translate.util.replaceFromIndex(e,r,i,o);s.replaceEndIndex<1?console.log("while中已经 indexOf发现了，但是实际没有替换，出现异常了！理论上这是不应该出现的。 text:"+e+" , translateOriginal:"+t):(r=s.replaceEndIndex,e=s.text)}return e},replaceFromIndex:function(e,t,n,a){let r=e.slice(0,t),o=e.slice(t),i=o.indexOf(n);return i>-1?{text:r+o.replace(n,a),replaceEndIndex:t+i+a.length}:{text:r+replacedAfter,replaceEndIndex:0}},uuid:function(){var e=new Date().getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})},findTag:function(e){return/<[^>]+>/g.test(e)},arrayFindMaxNumber:function(e){for(var t={},n=[],a=0,r=0,o=e.length;r<o;r++)t[e[r]]?t[e[r]]++:t[e[r]]=1,t[e[r]]>a&&(a=t[e[r]]);for(var i in t)t.hasOwnProperty(i)&&t[i]===a&&n.push(i);return n},hash:function(e){if(null==e||void 0===e)return e;var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n+""},charReplace:function(e){return null==e?"":e=(e=e.trim()).replace(/\t|\n|\v|\r|\f/g,"")},regExp:{pattern:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\?/g,"\\?")).replace(/\$/g,"\\$")).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\|/g,"\\|")).replace(/\+/g,"\\+")).replace(/\*/g,"\\*")).replace(/\[/g,"\\[")).replace(/\]/g,"\\]")).replace(/\^/g,"\\^")).replace(/\{/g,"\\{")).replace(/\}/g,"\\}")},resultText:function(e){return e}},getUrlParam:function(e){var t=RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""},synchronizesLoadJs:function(e){var t=null;if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){t=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(t=new XMLHttpRequest);if(t.open("GET",e,!1),t.send(null),4!=t.readyState||(!(t.status>=200)||!(t.status<300))&&0!=t.status&&304!=t.status)return!1;var n=document.getElementsByTagName("HTML")[0],a=document.createElement("script");a.language="javascript",a.type="text/javascript";try{a.appendChild(document.createTextNode(t.responseText))}catch(e){a.text=t.responseText}return n.appendChild(a),!0},loadMsgJs:function(){"undefined"==typeof msg&&translate.util.synchronizesLoadJs("https://res.zvo.cn/msg/msg.js")},objSort:function(e){var t=Array.from(Object.keys(e));t.sort(function(e,t){return t.length-e.length});var n=[];for(var a of t)n[a]=e[a];return n},versionStringToInt:function(e){var t=e.split("."),n=0;return n=1e3*parseInt(t[0])*1e3+n,n=1e3*parseInt(t[1])+n,n=parseInt(t[2])+n},split:function(e,t,n){let a=t,r=[];if(JSON.stringify(e).length<=t)r.push(e);else{let n=JSON.stringify(e).trim().substring(1,JSON.stringify(e).length-1);if(JSON.stringify(e).length-t<=2){t-=4;let e=n.substring(0,n.lastIndexOf('","')+1),a=n.substring(n.lastIndexOf('","')+2);r.push(JSON.parse("["+e+"]")),r.push(JSON.parse("["+a+"]"))}else{t-=2;let e=0;for(;e-n.length<0;){let a="",o=(a=e+t-n.length>=0?n.substring(e):n.substring(e,e+t)).length,i=1;a.endsWith('"')?a.endsWith('","')?o-=2:a.startsWith('"')||(o=a.lastIndexOf('","')+1):a.endsWith('",')?o-=1:(o=a.lastIndexOf('","')+1)<=0&&(o=a.startsWith('"')?a.length-1:a.length-2,a.endsWith('"')||(i=0));let s="";o-a.length>0||o-0==0?o+=(s=a).length:s=a.substring(0,o),s.startsWith('"')||s.startsWith(',"')||(s='"'+s),s.endsWith('"')||(s+='"'),e+=o+i,s="["+s+"]";try{r.push(JSON.parse(s))}catch(t){e=e-(o+i)+1}}}}return n&&n>0&&(r=translate.util._splitMaxSize(r,a,n)),r},_splitMaxSize:function(e,t,n){let a=[],r=[];if(e.forEach(function(e,o){if((e=r.concat(e)).length>n){let o=e.slice(0,n),i=e.slice(n),s=1;for(;JSON.stringify(o).length>t&&(o=e.slice(0,n-s),i=e.slice(n-s),!(++s>=e.length+1)););a.push(o),r.length=0,r=i}else{let o=e,i=[],s=1;for(;JSON.stringify(o).length>t&&(o=e.slice(0,n-s),i=e.slice(n-s),!(++s>=e.length+1)););a.push(o),r.length=0,r=i}}),r.length>0){let e=[];e.push(r);let o=translate.util._splitMaxSize(e,t,n);a=a.concat(o)}return a},browserLanguage:{"zh-CN":"chinese_simplified","zh-TW":"chinese_traditional","zh-HK":"chinese_traditional",co:"corsican",gn:"guarani",rw:"kinyarwanda",ha:"hausa",no:"norwegian",nl:"dutch",yo:"yoruba",en:"english","en-US":"english",kok:"gongen",la:"latin",ne:"nepali",fr:"french",cs:"czech",haw:"hawaiian",ka:"georgian",ru:"russian",fa:"persian",bho:"bhojpuri",hi:"hindi",be:"belarusian",sw:"swahili",is:"icelandic",yi:"yiddish",tw:"twi",ga:"irish",gu:"gujarati",km:"khmer",sk:"slovak",he:"hebrew",kn:"kannada",hu:"hungarian",ta:"tamil",ar:"arabic",bn:"bengali",az:"azerbaijani",sm:"samoan",af:"afrikaans",id:"indonesian",da:"danish",sn:"shona",bm:"bambara",lt:"lithuanian",vi:"vietnamese",mt:"maltese",tk:"turkmen",as:"assamese",ca:"catalan",si:"singapore",ceb:"cebuano",gd:"scottish-gaelic",sa:"sanskrit",pl:"polish",gl:"galician",lv:"latvian",uk:"ukrainian",tt:"tatar",cy:"welsh",ja:"japanese",fil:"filipino",ay:"aymara",lo:"lao",te:"telugu",ro:"romanian",ht:"haitian_creole",doi:"dogrid",sv:"swedish",mai:"maithili",th:"thai",hy:"armenian",my:"burmese",ps:"pashto",hmn:"hmong",dv:"dhivehi",lb:"luxembourgish",sd:"sindhi",ku:"kurdish",tr:"turkish",mk:"macedonian",bg:"bulgarian",ms:"malay",lg:"luganda",mr:"marathi",et:"estonian",ml:"malayalam",de:"deutsch",sl:"slovene",ur:"urdu",pt:"portuguese",ig:"igbo",ckb:"kurdish_sorani",om:"oromo",el:"greek",es:"spanish",fy:"frisian",so:"somali",am:"amharic",ny:"nyanja",pa:"punjabi",eu:"basque",it:"italian",sq:"albanian",ko:"korean",tg:"tajik",fi:"finnish",ky:"kyrgyz",ee:"ewe",hr:"croatian",kri:"creole",qu:"quechua",bs:"bosnian",mi:"maori"},browserDefaultLanguage:function(){var e=navigator.language||navigator.userLanguage;if("string"==typeof e&&e.length>0){var t=translate.util.browserLanguage[e];if(void 0!==t)return t;console.log("browser default language : "+e+", translate.js current translate channel not support this language ")}return""},urlSplitByText:function(e){let t=/(https?:\/\/[\w\-._~:\/?#[\]@!$&'()*+;=%]+(?=[\s\u4e00-\u9fa5，。；,!?]|$))/gi,n=e.split(t),a={};for(let e=0;e<n.length;e++)e%2==0?""!==n[e]&&(a[n[e]]="0"):a[n[e]]="1";return a},getElementPosition:function(e){let t=e.getBoundingClientRect(),n=window.scrollX||document.documentElement.scrollLeft,a=window.scrollY||document.documentElement.scrollTop,r=t.left+n,o=t.top+a,i=t.right-t.left,s=t.bottom-t.top,l=r+i,u=o+s;return{startX:r,startY:o,endX:l,endY:u,width:i,height:s}}},service:{name:"translate.service",use:function(e){if(void 0!==translate.enterprise&&!0==translate.enterprise.isUse)return void console.log("您已启用了企业级翻译通道 translate.enterprise.use(); (文档：https://translate.zvo.cn/4087.html) , 所以您设置的 translate.service.use('"+e+"'); (文档：https://translate.zvo.cn/4081.html) 将失效不起作用，有企业级翻译通道全部接管。");if("string"==typeof e&&(translate.service.name=e,"translate.service"!=e)){if("giteeai"==e.toLowerCase()){translate.request.api.host=["https://giteeai.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn:1000/","https://api.translate.zvo.cn:1000/"];return}if("siliconflow"==e.toLowerCase()){translate.request.api.host=["https://siliconflow.zvo.cn/","https://america.api.translate.zvo.cn:1414/","https://deutsch.enterprise.api.translate.zvo.cn:1414/"];return}translate.whole.enableAll()}},edge:{api:{auth:"https://edge.microsoft.com/translate/auth",translate:"https://api.cognitive.microsofttranslator.com/translate?from={from}&to={to}&api-version=3.0&includeSentenceLength=true"},language:{json:[{id:"ukrainian",name:"Україна",serviceId:"uk"},{id:"norwegian",name:"Norge",serviceId:"no"},{id:"welsh",name:"Iaith Weleg",serviceId:"cy"},{id:"dutch",name:"nederlands",serviceId:"nl"},{id:"japanese",name:"日本語",serviceId:"ja"},{id:"filipino",name:"Pilipino",serviceId:"fil"},{id:"english",name:"English",serviceId:"en"},{id:"lao",name:"ກະຣຸນາ",serviceId:"lo"},{id:"telugu",name:"తెలుగుName",serviceId:"te"},{id:"romanian",name:"Rom\xe2nă",serviceId:"ro"},{id:"nepali",name:"नेपालीName",serviceId:"ne"},{id:"french",name:"Fran\xe7ais",serviceId:"fr"},{id:"haitian_creole",name:"Krey\xf2l ayisyen",serviceId:"ht"},{id:"czech",name:"česk\xfd",serviceId:"cs"},{id:"swedish",name:"Svenska",serviceId:"sv"},{id:"russian",name:"Русский язык",serviceId:"ru"},{id:"malagasy",name:"Malagasy",serviceId:"mg"},{id:"burmese",name:"ဗာရမ်",serviceId:"my"},{id:"pashto",name:"پښتوName",serviceId:"ps"},{id:"thai",name:"คนไทย",serviceId:"th"},{id:"armenian",name:"Արմենյան",serviceId:"hy"},{id:"chinese_simplified",name:"简体中文",serviceId:"zh-CHS"},{id:"persian",name:"Persian",serviceId:"fa"},{id:"chinese_traditional",name:"繁體中文",serviceId:"zh-CHT"},{id:"kurdish",name:"Kurd\xee",serviceId:"ku"},{id:"turkish",name:"T\xfcrk\xe7e",serviceId:"tr"},{id:"hindi",name:"हिन्दी",serviceId:"hi"},{id:"bulgarian",name:"български",serviceId:"bg"},{id:"malay",name:"Malay",serviceId:"ms"},{id:"swahili",name:"Kiswahili",serviceId:"sw"},{id:"oriya",name:"ଓଡିଆ",serviceId:"or"},{id:"icelandic",name:"\xcdslandName",serviceId:"is"},{id:"irish",name:"\xcdris",serviceId:"ga"},{id:"khmer",name:"ភាសា​ខ្មែរName",serviceId:"km"},{id:"gujarati",name:"ગુજરાતી",serviceId:"gu"},{id:"slovak",name:"Slovensk\xe1",serviceId:"sk"},{id:"kannada",name:"ಕನ್ನಡ್Name",serviceId:"kn"},{id:"hebrew",name:"היברית",serviceId:"he"},{id:"hungarian",name:"magyar",serviceId:"hu"},{id:"marathi",name:"मराठीName",serviceId:"mr"},{id:"tamil",name:"தாமில்",serviceId:"ta"},{id:"estonian",name:"eesti keel",serviceId:"et"},{id:"malayalam",name:"മലമാലം",serviceId:"ml"},{id:"inuktitut",name:"ᐃᓄᒃᑎᑐᑦ",serviceId:"iu"},{id:"arabic",name:"بالعربية",serviceId:"ar"},{id:"deutsch",name:"Deutsch",serviceId:"de"},{id:"slovene",name:"slovenščina",serviceId:"sl"},{id:"bengali",name:"বেঙ্গালী",serviceId:"bn"},{id:"urdu",name:"اوردو",serviceId:"ur"},{id:"azerbaijani",name:"azerbaijani",serviceId:"az"},{id:"portuguese",name:"portugu\xeas",serviceId:"pt"},{id:"samoan",name:"lifiava",serviceId:"sm"},{id:"afrikaans",name:"afrikaans",serviceId:"af"},{id:"tongan",name:"汤加语",serviceId:"to"},{id:"greek",name:"ελληνικά",serviceId:"el"},{id:"indonesian",name:"IndonesiaName",serviceId:"id"},{id:"spanish",name:"Espa\xf1ol",serviceId:"es"},{id:"danish",name:"dansk",serviceId:"da"},{id:"amharic",name:"amharic",serviceId:"am"},{id:"punjabi",name:"ਪੰਜਾਬੀName",serviceId:"pa"},{id:"albanian",name:"albanian",serviceId:"sq"},{id:"lithuanian",name:"Lietuva",serviceId:"lt"},{id:"italian",name:"italiano",serviceId:"it"},{id:"vietnamese",name:"Tiếng Việt",serviceId:"vi"},{id:"korean",name:"한국어",serviceId:"ko"},{id:"maltese",name:"Malti",serviceId:"mt"},{id:"finnish",name:"suomi",serviceId:"fi"},{id:"catalan",name:"catal\xe0",serviceId:"ca"},{id:"croatian",name:"hrvatski",serviceId:"hr"},{id:"bosnian",name:"bosnian",serviceId:"bs-Latn"},{id:"polish",name:"Polski",serviceId:"pl"},{id:"latvian",name:"latviešu",serviceId:"lv"},{id:"maori",name:"Maori",serviceId:"mi"}],getMap:function(){if(void 0===translate.service.edge.language.map){translate.service.edge.language.map=[];for(var e=0;e<translate.service.edge.language.json.length;e++){var t=translate.service.edge.language.json[e];translate.service.edge.language.map[t.id]=t.serviceId}}return translate.service.edge.language.map}},translate:function(e,t,n,a){var r=JSON.parse(decodeURIComponent(t.text));let o=translate.util.split(r,4e4,900);translate.request.send(translate.service.edge.api.auth,{},function(e){var r=t.from;"auto"!=r&&(r=translate.service.edge.language.getMap()[t.from]);for(var i=translate.service.edge.language.getMap()[t.to],s=translate.service.edge.api.translate.replace("{from}",r).replace("{to}",i),l=0;l<o.length;l++){for(var u=[],d=0;d<o[l].length;d++)u.push({Text:o[l][d]});translate.request.send(s,JSON.stringify(u),function(e){var a={};a.info="SUCCESS",a.result=1,a.from=t.from,a.to=t.to,a.text=[];for(var r=0;r<e.length;r++)a.text.push(e[r].translations[0].text);if(o.length>1){for(var i=-1,s=0;s<o.length;s++)if(o[s].length-a.text.length==0){i=s;break}i<0&&(console.log("------ERROR--------"),console.log("翻译内容过多，进行拆分，但拆分判断出现异常，currentIndex：-1 请联系 http://translate.zvo.cn/43006.html 说明"));for(var l=0;l<i;l++)for(var u=o[l].length,d=0;d<u;d++)a.text.unshift(null);for(var c=o.length-1;c>i;c--)for(var g=o[c].length,d=0;d<g;d++)a.text.push(null)}n(a)},"post",!0,{Authorization:"Bearer "+e,"Content-Type":"application/json"},a,!0)}},"get",!0,{"content-type":"application/x-www-form-urlencoded"},function(e){console.log("---------error--------"),console.log("edge translate service error, http code : "+e.status+", response text : "+e.responseText)},!0)}}},request:{api:{host:["https://api.translate.zvo.cn/","https://america.api.translate.zvo.cn/"],language:"language.json",translate:"translate.json",ip:"ip.json",connectTest:"connectTest.json",init:"init.json"},appendParams:{},appendHeaders:{},response:function(e){},speedDetectionControl:{hostMasterNodeCutTime:2e3,hostQueue:[],hostQueueIndex:-1,disableTime:1e6,setCurrentHost:function(e){translate.storage.set("speedDetectionControl_hostQueue",""),translate.request.api.host=e,translate.request.speedDetectionControl.checkHostQueue=[],translate.request.speedDetectionControl.checkResponseSpeed_Storage(e,0)},getHostQueue:function(){if(0==translate.request.speedDetectionControl.hostQueue.length){var e=translate.storage.get("speedDetectionControl_hostQueue");if(null==e||void 0===e||""==e){"string"==typeof translate.request.api.host&&(translate.request.api.host=[""+translate.request.api.host]),translate.request.speedDetectionControl.hostQueue=[];for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.hostQueue[t]={host:n,time:0}}}else translate.request.speedDetectionControl.hostQueue=JSON.parse(e);var a=translate.storage.get("speedDetectionControl_lasttime");(null==a||void 0===a)&&(a=0);var r=6e4;new Date().getTime()-a>r&&translate.request.speedDetectionControl.checkResponseSpeed()}return translate.request.speedDetectionControl.hostQueue},checkResponseSpeed_Storage:function(e,t){translate.request.speedDetectionControl.checkHostQueue.push({host:e,time:t}),translate.request.speedDetectionControl.checkHostQueue.sort((e,t)=>e.time-t.time),translate.storage.set("speedDetectionControl_hostQueue",JSON.stringify(translate.request.speedDetectionControl.checkHostQueue)),translate.storage.set("speedDetectionControl_lasttime",new Date().getTime()),translate.request.speedDetectionControl.hostQueue=translate.request.speedDetectionControl.checkHostQueue},checkResponseSpeed:function(){var e={"content-type":"application/x-www-form-urlencoded"};if("string"==typeof translate.request.api.connectTest&&null!=translate.request.api.connectTest&&!(translate.request.api.connectTest.length<1)){translate.request.speedDetectionControl.checkHostQueue=[],translate.request.speedDetectionControl.checkHostQueueMap=[],"string"==typeof translate.request.api.host&&(translate.request.api.host=[""+translate.request.api.host]);for(var t=0;t<translate.request.api.host.length;t++){var n=translate.request.api.host[t];translate.request.speedDetectionControl.checkHostQueueMap[n]={start:new Date().getTime()};try{translate.request.send(n+translate.request.api.connectTest,{host:n},function(e){var t=e.info,n=translate.request.speedDetectionControl.checkHostQueueMap[t],a=new Date().getTime()-n.start;translate.request.api.host[0]==t&&(a-=translate.request.speedDetectionControl.hostMasterNodeCutTime)<0&&(a=0),translate.request.speedDetectionControl.checkResponseSpeed_Storage(t,a)},"post",!0,e,function(e){var t=e.requestURL.replace(translate.request.api.connectTest,"");translate.request.speedDetectionControl.checkResponseSpeed_Storage(t,translate.request.speedDetectionControl.disableTime)},!1)}catch(e){console.log(e)}}}},getHostQueueIndex:function(){if(translate.request.speedDetectionControl.hostQueueIndex<0){var e=translate.storage.get("speedDetectionControl_hostQueueIndex");void 0===e||null==e?(translate.request.speedDetectionControl.hostQueueIndex=0,translate.storage.set("speedDetectionControl_hostQueueIndex",0)):translate.request.speedDetectionControl.hostQueueIndex=e}return translate.request.speedDetectionControl.hostQueueIndex},getHost:function(){var e=translate.request.speedDetectionControl.getHostQueue(),t=translate.request.speedDetectionControl.getHostQueueIndex();return e.length>t||(console.log("异常，下标越界了！index："+t),t=e.length-1),e[t].host}},getUrl:function(e){return translate.request.speedDetectionControl.getHost()+e+"?v="+translate.version},post:function(e,t,n,a){var r={"content-type":"application/x-www-form-urlencoded"};if(void 0!==t){void 0!==translate.enterprise&&translate.enterprise.automaticAdaptationService();var o=translate.request.getUrl(e);if("client.edge"==translate.service.name){if(e==translate.request.api.translate)return void translate.service.edge.translate(e,t,n,a);if(e==translate.request.api.language){var i={};i.info="SUCCESS",i.result=1,i.list=translate.service.edge.language.json,n(i);return}}this.send(e,t,n,"post",!0,r,a,!0)}},send:function(e,t,n,a,r,o,i,s){var l="";if((null==t||void 0===t)&&(t={}),"string"==typeof t)l=t;else{for(var u in t.browserDefaultLanguage=translate.util.browserDefaultLanguage(),translate.request.appendParams)translate.request.appendParams.hasOwnProperty(u)&&(t[u]=translate.request.appendParams[u]);for(var d in void 0!==translate.enterprise&&void 0!==translate.enterprise.key&&"string"==typeof translate.enterprise.key&&translate.enterprise.key.length>0&&(t.key=translate.enterprise.key),t)t.hasOwnProperty(d)&&(l.length>0&&(l+="&"),l=l+d+"="+t[d])}0==e.indexOf("https://")||0==e.indexOf("http://")||(e=translate.request.getUrl(e));var c=null;try{c=new XMLHttpRequest}catch(e){c=new ActiveXObject("Microsoft.XMLHTTP")}if(c.data=t,c.open(a,e,r),null!=o)for(var d in o)o.hasOwnProperty(d)&&c.setRequestHeader(d,o[d]);for(var g in translate.request.appendHeaders)translate.request.appendHeaders.hasOwnProperty(g)&&c.setRequestHeader(g,translate.request.appendHeaders[g]);return"translate.service"==translate.service.name&&c.setRequestHeader("currentpage",window.location.href+""),c.send(l),c.onreadystatechange=function(){if(4==c.readyState)if(translate.request.response(c),200==c.status){var r=null;if(void 0===c.responseText||null==c.responseText);else if(c.responseText.indexOf("{")>-1&&c.responseText.indexOf("}")>-1)try{r=JSON.parse(c.responseText)}catch(e){console.log(e)}null==r?n(c.responseText):n(r)}else s&&(e.indexOf(translate.request.api.connectTest)>-1||("translate.service"==translate.service.name&&console.log("----- translate.js 提示 -----\n翻译服务响应异常，解决这种情况可以有两种方案：\n【方案一】：使用采用最新版本 3.16.0及更高版本，js引用文件为 https://cdn.staticfile.net/translate.js/3.16.0/translate.js 并且使用 client.edge 模式 （增加一行设置代码就好，可参考 https://translate.zvo.cn/4081.html ），这样就不会再出现这种情况了，而且这个方案也是完全免费的。 \n【方案二】：采用企业级稳定翻译通道 ,但是这个相比于 方案一 来说，是有一定的收费的，大概一年600，这个就是专门为了高速及高稳定准备的，而相比于这个方案二，方案一则是全免费的。 因为方案二我们是部署了两个集群，而每个集群又下分了数个网络节点，包含中国大陆、香港、美国、欧洲、 等多个州，充分保障稳定、高效，同样也产生了不少成本，所以才需要付费。更多信息说明可以参考： http://translate.zvo.cn/4087.html \n【方案三】：私有部署你自己的翻译通道，并且启用内存级翻译缓存，毫秒级响应，但是需要依赖一台1核2G服务器，是最推荐的方式。具体参考：https://translate.zvo.cn/391129.html\n-------------"),console.log("------- translate.js service api response error --------"),console.log("    http code : "+c.status),console.log("    response : "+c.response),console.log("    request url : "+e),console.log("    request data : "+JSON.stringify(t)),console.log("    request method : "+a),console.log("---------------------- end ----------------------"))),c.requestURL=e,null!=i&&i(c)},c},translateText:function(e,t){var n=[],a=translate.language.getLocal(),r=translate.language.getCurrent();if("string"==typeof e)n[0]=e;else{var o=Object.prototype.toString.call(e);if("[object Array]"==o)n=e;else{if("[object Object]"!=o)return void console.log("translate.request.translateText 传入的值类型错误，请查阅文档： https://translate.zvo.cn/4077.html");void 0===e.texts&&console.log("translate.request.translateText 传入的值类型异常，因为你没有传入 obj.texts 要翻译的具体文本！ 请查阅文档： https://translate.zvo.cn/4077.html"),n="string"==typeof e.texts?[e.texts]:e.texts,"string"==typeof e.from&&e.from.length>0&&(a=e.from),"string"==typeof e.to&&e.to.length>0&&(r=e.to)}}var i=translate.request.api.translate,s={from:a,to:r,text:encodeURIComponent(JSON.stringify(n))};translate.request.post(i,s,function(e){0==e.result&&(console.log("=======ERROR START======="),console.log("from : "+e.from),console.log("to : "+e.to),console.log("translate text array : "+n),console.log("response : "+e.info),console.log("=======ERROR END  =======")),t(e)},null)},listener:{minIntervalTime:800,lasttime:0,executetime:0,delayExecuteTime:200,addExecute:function(){var e=Date.now();0==translate.request.listener.lasttime?(translate.request.listener.executetime=e,translate.request.listener.lasttime=1):translate.request.listener.executetime>1||(e<translate.request.listener.lasttime+translate.request.listener.minIntervalTime?translate.request.listener.executetime=translate.request.listener.lasttime+translate.request.listener.minIntervalTime:translate.request.listener.executetime=e)},trigger:function(e){return!0},start:function(){if(void 0!==translate.request.listener.isStart)return;if(translate.request.listener.isStart=!0,setInterval(function(){var e=Date.now();if(translate.request.listener.executetime>1&&e>translate.request.listener.executetime+translate.request.listener.delayExecuteTime){translate.request.listener.executetime=0,translate.request.listener.lasttime=e;try{translate.execute()}catch(e){console.log(e)}}},100),"undefined"==typeof PerformanceObserver)return void console.log("因浏览器版本较低， translate.request.listener.start() 中 PerformanceObserver 对象不存在，浏览器不支持，所以 translate.request.listener.start() 未生效。");let e=new PerformanceObserver(e=>{for(var t=!1,n=0;n<e.getEntries().length;n++){var a=e.getEntries()[n];if("fetch"===a.initiatorType||"xmlhttprequest"===a.initiatorType){var r=a.name;"string"==typeof translate.request.api.host&&(translate.request.api.host=[translate.request.api.host]);for(var o=!1,i=0;i<translate.request.api.host.length;i++)if(r.indexOf(translate.request.api.host[i])>-1){o=!0;break}if(void 0!==translate.service.edge&&r.indexOf(translate.service.edge.api.auth)>-1&&(o=!0),r.indexOf(".microsofttranslator.com/translate")>-1&&(o=!0),o||!translate.request.listener.trigger())continue;t=!0;break}}t&&translate.request.listener.addExecute()});var t=PerformanceObserver.supportedEntryTypes;if(t){for(var n=!1,a=0;a<t.length;a++)if("resource"===t[a]){n=!0;break}if(n)try{e.observe({entryTypes:["resource"]});return}catch(e){console.log("PerformanceObserver entryTypes 失败，尝试 type 参数")}}try{e.observe({type:"resource",buffered:!0}),console.log("使用 PerformanceObserver type")}catch(e){console.log("当前浏览器不支持 PerformanceObserver 的任何参数, translate.request.listener.start() 未启动")}}}},storage:{IndexedDB:{db:null,initDB:function(){let e=this;return new Promise((t,n)=>{let a="translate.js",r="kvStore",o=1,i=indexedDB.open(a,o);i.onupgradeneeded=function(e){let t=e.target.result;t.objectStoreNames.contains(r)||t.createObjectStore(r,{keyPath:"key"})},i.onsuccess=function(n){e.db=n.target.result,t()},i.onerror=function(e){n("IndexedDB 打开失败")}})},set:async function(e,t){return this.db||await this.initDB(),new Promise((n,a)=>{let r=this.db.transaction("kvStore","readwrite").objectStore("kvStore"),o={key:e,value:t},i=r.put(o);i.onsuccess=()=>n(),i.onerror=()=>a("写入失败")})},get:async function(e){return this.db||await this.initDB(),new Promise((t,n)=>{let a=this.db.transaction("kvStore","readonly").objectStore("kvStore").get(e);a.onsuccess=()=>{let e=a.result;t(e?e.value:void 0)},a.onerror=()=>n("读取失败")})},list:async function(e=""){return this.db||await this.initDB(),new Promise((t,n)=>{let a=this.db.transaction("kvStore","readonly").objectStore("kvStore").openCursor(),r=[],o=RegExp("^"+e.replace(/\*/g,".*")+"$");a.onsuccess=e=>{let n=e.target.result;n?(o.test(n.key)&&r.push({key:n.key,value:n.value.value}),n.continue()):t(r)},a.onerror=()=>n("游标读取失败")})}},set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},images:{queues:[],add:function(e){for(var t in e)e.hasOwnProperty(t)&&(translate.images.queues[t]=e[t])},execute:function(){if(!(Object.keys(translate.images.queues).length<1)){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t];if(void 0!==n.src&&null!=n.src&&0!=n.src.length){var a=n.getAttribute("src");for(var r in translate.images.queues){var o=r,i=translate.images.queues[r];o==a&&(n.src=i=i.replace(/{language}/g,translate.to))}}}for(var s=document.getElementsByTagName("*"),t=0;t<s.length;t++){var l=s[t],u=window.getComputedStyle(l,null).backgroundImage;if("none"!=u){var d=translate.images.gainCssBackgroundUrl(u);if(void 0!==translate.images.queues[d]){var i=translate.images.queues[d];i=i.replace(/{language}/g,translate.to),l.style.backgroundImage='url("'+i+'")'}}}}},gainCssBackgroundUrl:function(e){var t=e.indexOf('"'),n=e.lastIndexOf('"');return -1!=t&&-1!=n?e.substring(t+1,n):e}},reset:function(){var e=translate.language.getCurrent(),t="";for(var n in translate.nodeQueue)translate.nodeQueue.hasOwnProperty(n)&&(t=n);if(""==t)return void console.log("提示，你当前还未执行过翻译，所以你无需执行 translate.reset(); 进行还原。");for(var a in translate.nodeQueue[t].list)if(translate.nodeQueue[t].list.hasOwnProperty(a)){for(var r in translate.nodeQueue[t].list[a])if(translate.nodeQueue[t].list[a].hasOwnProperty(r)){var o=translate.nodeQueue[t].list[a][r];for(var i in o.nodes){if(o.nodes.hasOwnProperty(i)){var s=translate.storage.get("hash_"+e+"_"+r);if(void 0!==s&&null!=s&&0!=s.length&&void 0!==o.nodes[i].node){var l=void 0===o.nodes[i].node.attribute?null:o.nodes[i].node.attribute,u=translate.element.nodeAnalyse.analyse(o.nodes[i].node,"","",l);translate.element.nodeAnalyse.analyse(o.nodes[i].node,u.text,o.original,l)}}}}}translate.storage.set("to",""),translate.to=null,translate.selectLanguageTag.render()},selectionTranslate:{selectionX:0,selectionY:0,callTranslate:function(e){let t=window.getSelection();if(t.anchorOffset==t.focusOffset)return;let n=window.getSelection().toString();var a=translate.request.api.translate,r={from:translate.language.getLocal(),to:translate.to,text:encodeURIComponent(JSON.stringify([n]))};translate.request.post(a,r,function(e){if(0==e.result)return;let t=document.querySelector("#translateTooltip");t.innerText=e.text[0],t.style.top=selectionY+20+"px",t.style.left=selectionX+50+"px",t.style.display=""},null)},start:function(){let e=document.createElement("span");e.innerText="",e.setAttribute("id","translateTooltip"),e.setAttribute("style","background-color:black;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:999;top:150%;left:50%; "),document.body.appendChild(e),document.addEventListener("mousedown",e=>{selectionX=e.pageX,selectionY=e.pageY},!1),document.addEventListener("mouseup",translate.selectionTranslate.callTranslate,!1),document.addEventListener("click",e=>{document.querySelector("#translateTooltip").style.display="none"},!1)}},enterprise:{isUse:!1,use:function(){if(translate.enterprise.isUse=!0,translate.request.speedDetectionControl.hostMasterNodeCutTime=300,translate.request.api.host=["https://america-enterprise-api-translate.zvo.cn/","https://beijing.enterprise.api.translate.zvo.cn/","https://deutsch.enterprise.api.translate.zvo.cn/","https://america.api.translate.zvo.cn:666/","https://api.translate.zvo.cn:666/","https://api.translate.zvo.cn:888/"],"client.edge"==translate.service.name){translate.service.name="translate.service",console.log("您已启用了企业级翻译通道 translate.enterprise.use(); (文档：https://translate.zvo.cn/4087.html) , 所以您设置的 translate.service.use('client.edge'); (文档：https://translate.zvo.cn/4081.html) 将失效不起作用，有企业级翻译通道全部接管。");return}},automaticAdaptationService:function(){if(translate.enterprise.isUse){var e=translate.request.speedDetectionControl.getHostQueue();e.length>0&&e[0].time+1>translate.request.speedDetectionControl.disableTime&&(translate.service.name="client.edge")}},key:""},init:function(){if(void 0===translate.init_execute&&(translate.init_execute="已进行","string"==typeof translate.request.api.init&&null!=translate.request.api.init&&!(translate.request.api.init.length<1)))try{translate.request.send(translate.request.api.init,{},function(data){if(0==data.result)return void console.log("translate.js init 初始化异常："+data.info);if(1==data.result){var newVersion=translate.util.versionStringToInt(data.version),currentVersion=translate.util.versionStringToInt(translate.version.replace("v",""));newVersion>currentVersion&&console.log("Tip : translate.js find new version : "+data.version)}else eval(data.info)},"post",!0,null,function(e){},!1)}catch(e){}},progress:{style:`
			/* CSS部分 */
			/* 灰色水平加载动画 */
			.translate_api_in_progress {
			  position: relative;
			  overflow: hidden; /* 隐藏超出部分的动画 */
			}

			/* 蒙版层 */
			.translate_api_in_progress::after {
			  content: '';
			  position: absolute;
			  top: 0;
			  left: 0;
			  width: 100%;
			  height: 100%;
			  background: rgba(255, 255, 255, 1); /* 半透明白色遮罩 */
			  z-index: 2;
			}

			/* 水平加载条动画 */
			.translate_api_in_progress::before {
			  content: '';
			  position: absolute;
			  top: 50%;
			  left: 0;
			  width: 100%;
			  height:100%; /* 细线高度 */
			  background: linear-gradient(
			    90deg,
			    transparent 0%,
			    #e8e8e8 25%,  /* 浅灰色 */
			    #d0d0d0 50%,  /* 中灰色 */
			    #e8e8e8 75%,  /* 浅灰色 */
			    transparent 100%
			  );
			  background-size: 200% 100%;
			  animation: translate_api_in_progress_horizontal-loader 3.5s linear infinite;
			  z-index: 3;
			  transform: translateY(-50%);
			}

			@keyframes translate_api_in_progress_horizontal-loader {
			  0% {
			    background-position: 200% 0;
			  }
			  100% {
			    background-position: -200% 0;
			  }
			}
		`,api:{isTip:!0,setUITip:function(e){translate.progress.api.isTip=e},removeChildClass:function(e,t){var n=e.childNodes;if(null==n||void 0===n);else if(n.length>0)for(var a=0;a<n.length;a++)translate.progress.api.removeChildClass(n[a],t+1);1!=t&&void 0!==e&&"string"==typeof e.className&&(-1>e.className.indexOf("translate_api_in_progress")||(e.className=e.className.replace(/translate_api_in_progress/g,"")))},startUITip:function(){let e=document.createElement("style");e.textContent=translate.progress.style,document.head.appendChild(e),translate.progress.api.isTip&&(translate.listener.execute.renderStartByApi.push(function(e,t,n){for(var a in translate.nodeQueue[e].list[t])if(translate.nodeQueue[e].list[t].hasOwnProperty(a))for(var r in translate.nodeQueue[e].list[t][a].nodes){if(!translate.nodeQueue[e].list[t][a].nodes.hasOwnProperty(r))continue;var o=translate.nodeQueue[e].list[t][a].nodes[r].node;if(void 0!==o&&void 0!==o.parentNode){var i=o.parentNode;if(null!=i){var s=o.parentNode;if(!(null!=s&&void 0!==s.className&&null!=s.className&&i.className.indexOf("translate_api_in_progress")>-1))if(translate.progress.api.removeChildClass(i,1),void 0===i.className||null==i.className||""==i.className)i.className=" translate_api_in_progress";else{if(i.className.indexOf("translate_api_in_progress")>-1)continue;i.className=i.className+" translate_api_in_progress"}}}}}),translate.listener.execute.renderFinishByApi.push(function(e,t,n){for(var a in translate.nodeQueue[e].list[t])if(translate.nodeQueue[e].list[t].hasOwnProperty(a))for(var r in translate.nodeQueue[e].list[t][a].nodes){if(!translate.nodeQueue[e].list[t][a].nodes.hasOwnProperty(r))continue;var o=translate.nodeQueue[e].list[t][a].nodes[r].node.parentNode;if(null!=o){var i=o.className;void 0!==i&&null!=i&&""!=i&&(-1>i.indexOf("translate_api_in_progress")||(o.className=i.replace(/translate_api_in_progress/g,"")))}}}))}}},js:{transString:function(e,t,n,a){let r;try{r=JSON.parse(e)}catch(e){a(e);return}translate.js.transObject(r,t,n,a)},transObject:function(e,t,n,a){let r=translate.js.find(e);var o=[];for(let e in r)o.push(e);var i={from:"auto",to:t,texts:o};translate.request.translateText(i,function(t){if(void 0===t.result||0==t.result)return void a("network connect failure");if(0==t.result)return void a(t.info);let i=t.text;i&&i.length===o.length?o.forEach((t,n)=>{let a=i[n],o=r[t];o&&o.length>0&&o.forEach(t=>{translate.js.setValueByPath(e,t,a)})}):console.error("翻译结果长度不匹配或为空"),n(e)})},setValueByPath:function(e,t,n){let a=t.replace(/\[(\d+)\]/g,".$1").split("."),r=e;for(let e=0;e<a.length-1;e++)r=r[a[e]];r[a[a.length-1]]=n},find:function(e,t=""){let n={};if("object"==typeof e&&null!==e)if(Array.isArray(e))e.forEach((e,a)=>{let r=t?`${t}[${a}]`:`[${a}]`;for(let[t,a]of Object.entries(translate.js.find(e,r)))n[t]||(n[t]=[]),n[t]=n[t].concat(a)});else for(let a in e){let r=t?`${t}.${a}`:a;if("object"==typeof e[a]&&null!==e[a])for(let[t,o]of Object.entries(translate.js.find(e[a],r)))n[t]||(n[t]=[]),n[t]=n[t].concat(o);else"string"==typeof e[a]&&(void 0===n[e[a]]&&(n[e[a]]=[]),n[e[a]].push(r))}else"string"==typeof e&&(void 0===n[e]&&(n[e]=[]),n[e].push(t));return n}},network:{originalOpen:XMLHttpRequest.prototype.open,originalSend:XMLHttpRequest.prototype.send,setRequestHeaderOriginal:XMLHttpRequest.prototype.setRequestHeader,rules:[{url:/https:\/\/www\.guanleiming\.com\/a\/b\/.html/,methods:["GET","POST"],params:["a","b1"]}],getRuleMatch:function(e,t){for(let n=0;n<translate.network.rules.length;n++){let a=translate.network.rules[n];if(void 0===a.url&&""==a.url){console.log("WARINNG : translate.network.rule find url is null:"),console.log(a);continue}if(a.url.test(e)&&a.methods.includes(t.toUpperCase()))return a}return null},use:function(){XMLHttpRequest.prototype.open=function(...e){return translate.network.hookOpen.apply(this,e)},XMLHttpRequest.prototype.send=function(...e){return translate.network.hookSend.apply(this,e)},XMLHttpRequest.prototype.setRequestHeader=function(...e){return translate.network.setRequestHeader.apply(this,e)},translate.network.fetch.use()},_translateText:e=>new Promise(translate.language.getLocal()==translate.language.getCurrent()||"string"==typeof e&&e.length>0&&translate.language.recognition(e).languageName==translate.language.getLocal()?(t,n)=>{t({from:"auto",to:translate.language.getLocal(),text:[e]})}:(t,n)=>{let a={from:"auto",to:translate.language.getLocal(),texts:[e]};translate.request.translateText(a,function(e){1===e.result?t(e):n(e)})}),setRequestHeader:function(e,t){return this._requestContext&&(this._requestContext.headers=this._requestContext.headers||{},this._requestContext.headers[e]=t),translate.network.setRequestHeaderOriginal.call(this,e,t)},RequestHandler:{async handleGet(e,t){void 0===t.params&&void 0===t.params.length&&t.params.length<1&&(console.log("WARINNG: rule not find params , rule : "),console.log(t),t.params=[]);try{let r=new URL(e,window.location.origin),o=r.searchParams;for(var n=0;n<t.params.length;n++){var a=t.params[n];if(o.has(a)){let e=o.get(a),t=await translate.network._translateText(e);void 0===t?console.log("WARINNG: translateResultData is undefined"):void 0===t.result?console.log("WARINNG: translateResultData.result is undefined"):1!=t.result?console.log("WARINNG: translateResultData.result failure : "+t.info):o.set(a,decodeURIComponent(t.text[0]))}}return r.toString()}catch(t){return console.warn("GET处理失败:",t),e}},async handleForm(e,t){try{let n=new URLSearchParams(e),a={...n};for(let e of t.params)if(n.has(e)){let t=n.get(e),r=await translate.network._translateText(t);a[e]=r}return new URLSearchParams(a).toString()}catch(t){return console.warn("表单处理失败:",t),e}},async handleJson(e,t){try{let n={...JSON.parse(e)};for(let e of t.params)if(n.hasOwnProperty(e)){let t=n[e];n[e]=await translate.network._translateText(t)}return JSON.stringify(n)}catch(t){return console.warn("JSON处理失败:",t),e}}},_requestContext:null,hookOpen(e,t,n,a,r){return this._requestContext={method:e.toUpperCase(),originalUrl:t,async:n,user:a,password:r,matchedRule:translate.network.getRuleMatch(t,e)},translate.network.originalOpen.call(this,e,t,n,a,r)},hookSend(e){let t=this._requestContext;if(!t||!t.matchedRule)return translate.network.originalSend.call(this,e);let n=async()=>{let n=e,a=t.method;try{let o=await translate.network.RequestHandler.handleGet(t.originalUrl,t.matchedRule);if(translate.network.originalOpen.call(this,a,o,t.async,t.user,t.password),t.headers)for(let e in t.headers)translate.network.setRequestHeaderOriginal.call(this,e,t.headers[e]);if("POST"===a&&void 0!==e&&null!=e&&e.length<2e3){var r=!1;if(0==e.trim().indexOf("[")||0==e.trim().indexOf("{"))try{n=await translate.network.RequestHandler.handleJson(e,t.matchedRule),r=!0}catch(e){r=!1}if(!r)try{n=await translate.network.RequestHandler.handleForm(e,t.matchedRule)}catch(e){}}}catch(e){console.warn("请求处理异常:",e)}translate.network.originalSend.call(this,n)};!1!==t.async?n.call(this):(console.warn("同步请求不支持翻译拦截"),translate.network.originalSend.call(this,e))},fetch:{originalFetch:window.fetch,use:function(){let e=this;window.fetch=function(...t){return e.hookFetch.apply(e,t)}},hookFetch:async function(e,t){let n=new Request(e,t),a=n.url,r=n.method,o=translate.network.getRuleMatch(a,r);if(!o)return this.originalFetch.call(window,n);let i={method:r,url:a,headers:{},rule:o,isModified:!1};n.headers.forEach((e,t)=>{i.headers[t]=e}),this._requestContext=i;try{let e=await translate.network.RequestHandler.handleGet(a,o);if("GET"===r){let t=new Request(e,{method:r,headers:new Headers(i.headers),mode:n.mode,credentials:n.credentials,cache:n.cache,redirect:n.redirect,referrer:n.referrer,referrerPolicy:n.referrerPolicy});return this.originalFetch.call(window,t)}if("POST"===r){let t=null;n.body&&(t=await n.clone().text()),n.headers.get("Content-Type");let a=t;if(void 0!==t&&null!=t&&t.length<2e3){var s=!1;if(0==t.trim().indexOf("[")||0==t.trim().indexOf("{"))try{a=await translate.network.RequestHandler.handleJson(t,o),s=!0}catch(e){s=!1}if(!s)try{a=await translate.network.RequestHandler.handleForm(t,o)}catch(e){}}let l=new Request(e,{method:r,headers:new Headers(i.headers),body:a,mode:n.mode,credentials:n.credentials,cache:n.cache,redirect:n.redirect,referrer:n.referrer,referrerPolicy:n.referrerPolicy});return this.originalFetch.call(window,l)}return this.originalFetch.call(window,n)}catch(e){return console.warn("fetch 请求处理异常:",e),this.originalFetch.call(window,n)}},_requestContext:null}},visual:{getRects:function(e){return e.map(e=>{let t;if(!e)return null;if(e.nodeType===Node.TEXT_NODE){let n=document.createRange();n.selectNodeContents(e);let a=n.getClientRects();t=a.length>0?a[0]:null}else e.nodeType===Node.ELEMENT_NODE&&(t=e.getBoundingClientRect());return t?{node:e,left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}:null})},coordinateSort:function(e){return e.filter(e=>null!==e).sort((e,t)=>5>Math.abs(e.top-t.top)?e.left-t.left:e.top-t.top)},afterAdjacent:function(e){var t=translate.visual.coordinateSort(e);let n=[];return translate.visual.groupRectsByLine(t).forEach(e=>{for(let t=0;t<e.length;t++)for(let a=t+1;a<e.length;a++){let r=e[t],o=e[a];if(!translate.visual.areHorizontallyAdjacent(r,o))break;n.push({before:r,after:o})}}),n},groupRectsByLine:function(e){let t=[],n=[];return e.forEach(e=>{if(0===n.length)n.push(e);else{let a=n[n.length-1];5>Math.abs(e.top-a.top)?n.push(e):(t.push(n),n=[e])}}),n.length>0&&t.push(n),t},areHorizontallyAdjacent:function(e,t){let n=Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top),a=t.left-e.right;return n>0&&1>Math.abs(a)},afterAddSpace:function(e){let t=[];return e.forEach(e=>{let{before:n,after:a}=e,r=n.node,o=a.node,i=window.getComputedStyle(r.nodeType===Node.TEXT_NODE?r.parentElement:r),s=window.getComputedStyle(o.nodeType===Node.TEXT_NODE?o.parentElement:o),l=parseFloat(i.marginRight)>0||parseFloat(i.paddingRight)>0,u=parseFloat(s.marginLeft)>0||parseFloat(s.paddingLeft)>0;!l&&!u&&"string"==typeof r.textContent&&"string"==typeof o.textContent&&(/\s$/.test(r.textContent)||/^\s/.test(o.textContent)||t.push(r))}),t},adjustTranslationSpaces:function(e){if(!translate.language.wordBlankConnector(translate.to))return;let t=translate.visual.getRects(e),n=translate.visual.afterAdjacent(t);translate.visual.afterAddSpace(n).forEach(e=>{if(e.nodeType===Node.TEXT_NODE)e.textContent=e.textContent+"\xa0";else if(e.nodeType===Node.ELEMENT_NODE){let t=e.lastChild;t&&t.nodeType===Node.TEXT_NODE&&(t.textContent=t.textContent+"\xa0")}})},adjustTranslationSpacesByNodequeueUuid:function(e){var t=[];for(var n in translate.nodeQueue[e].list)if(translate.nodeQueue[e].list.hasOwnProperty(n)&&!(n.length<1)){for(var a in translate.nodeQueue[e].list[n])if(translate.nodeQueue[e].list[n].hasOwnProperty(a)){for(var r in translate.nodeQueue[e].list[n][a].nodes)if(translate.nodeQueue[e].list[n][a].nodes.hasOwnProperty(r)){var o=translate.nodeQueue[e].list[n][a].nodes[r].node;t.push(o)}}}translate.visual.adjustTranslationSpaces(t)},adjustTranslationSpacesByLastNodequeueUuid:function(e){var e="";for(var t in translate.nodeQueue){e=t;break}"string"==typeof e&&e.length>1&&translate.visual.adjustTranslationSpacesByNodequeueUuid(e)}}},nodeuuid={index:function(e){var t,n=e.parentElement;if(null==n)return"";if(void 0===e.tagName)t=n.childNodes;else{t=[];for(var a=n.childNodes,r=0;r<a.length;r++)a[r].tagName===e.tagName&&t.push(a[r])}var o=Array.prototype.indexOf.call(t,e);return e.nodeName+""+(o+1)},uuid:function(e){for(var t="",n=e;null!=n;){var a=nodeuuid.index(n);""!=a&&(""!=t&&(t="_"+t),t=a+t),n=n.parentElement}return t}};console.log("------ translate.js ------\nTwo lines of js html automatic translation, page without change, no language configuration file, no API Key, SEO friendly! Open warehouse : https://github.com/xnx3/translate \n两行js实现html全自动翻译。 无需改动页面、无语言配置文件、无API Key、对SEO友好！完全开源，代码仓库：https://gitee.com/mail_osc/translate"),function(e,t){"function"==typeof define&&define.amd?define([],()=>t()):module.exports?module.exports=t():e.translate=t()}(this,function(){return translate})}}]);